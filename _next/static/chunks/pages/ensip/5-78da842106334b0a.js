(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5183],{7276:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ensip/5",function(){return s(1782)}])},1782:function(e,n,s){"use strict";s.r(n),s.d(n,{__N_SSG:function(){return o}});var r=s(1527),i=s(313);function t(e){let n=Object.assign({p:"p",h1:"h1",table:"table",thead:"thead",tr:"tr",th:"th",strong:"strong",tbody:"tbody",td:"td",h2:"h2",h3:"h3",pre:"pre",code:"code",ul:"ul",li:"li",em:"em",a:"a"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"A standard for storage of text records in ENS (formerly EIP-634)."}),"\n",(0,r.jsx)(n.h1,{children:"ENSIP-5: Text Records"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Author"})}),(0,r.jsx)(n.th,{children:"Richard Moore (@ricmoo)"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Status"})}),(0,r.jsx)(n.td,{children:"Final"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Submitted"})}),(0,r.jsx)(n.td,{children:"2017-05-17"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"abstract",children:"Abstract"}),"\n",(0,r.jsx)(n.p,{children:"This ENSIP defines a resolver profile for ENS that permits the lookup of arbitrary key-value text data. This allows ENS name holders to associate e-mail addresses, URLs and other informational data with a ENS name."}),"\n",(0,r.jsx)(n.h2,{id:"motivation",children:"Motivation"}),"\n",(0,r.jsx)(n.p,{children:"There is often a desire for human-readable metadata to be associated with otherwise machine-driven data; used for debugging, maintenance, reporting and general information."}),"\n",(0,r.jsx)(n.p,{children:"In this ENSIP we define a simple resolver profile for ENS that permits ENS names to associate arbitrary key-value text."}),"\n",(0,r.jsx)(n.h2,{id:"specification",children:"Specification"}),"\n",(0,r.jsx)(n.h3,{children:"Resolver Profile"}),"\n",(0,r.jsx)(n.p,{children:"A new resolver interface is defined, consisting of the following method:"}),"\n",(0,r.jsx)(n.pre,{language:"solidity",code:"interface IERC634 {\n  /// @notice Returns the text data associated with a key for an ENS name\n  /// @param node A nodehash for an ENS name\n  /// @param key A key to lookup text data for\n  /// @return The text data\n  function text(bytes32 node, string key) view returns (string text);\n}\n",children:(0,r.jsx)(n.code,{className:"language-solidity",children:'<span><span style="color: var(--shiki-token-keyword)">interface</span><span style="color: var(--shiki-token-function)"> IERC634</span><span style="color: var(--shiki-color-text)"> {</span></span>\n<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">/// </span><span style="color: var(--shiki-token-keyword)">@notice</span><span style="color: var(--shiki-token-comment)"> Returns the text data associated with a key for an ENS name</span></span>\n<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">/// </span><span style="color: var(--shiki-token-keyword)">@param</span><span style="color: var(--shiki-token-comment)"> node A nodehash for an ENS name</span></span>\n<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">/// </span><span style="color: var(--shiki-token-keyword)">@param</span><span style="color: var(--shiki-token-comment)"> key A key to lookup text data for</span></span>\n<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">/// </span><span style="color: var(--shiki-token-keyword)">@return</span><span style="color: var(--shiki-token-comment)"> The text data</span></span>\n<span><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">text</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)"> key) </span><span style="color: var(--shiki-token-keyword)">view</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">returns</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">string</span><span style="color: var(--shiki-color-text)"> text);</span></span>\n<span><span style="color: var(--shiki-color-text)">}</span></span>\n<span></span>'})}),"\n",(0,r.jsxs)(n.p,{children:["The EIP-165 interface ID of this interface is ",(0,r.jsx)(n.code,{children:"0x59d1d43c"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"text"})," data may be any arbitrary UTF-8 string. If the key is not present, the empty string must be returned."]}),"\n",(0,r.jsx)(n.h3,{children:"Global Keys"}),"\n",(0,r.jsx)(n.p,{children:"Global Keys must be made up of lowercase letters, numbers and the hyphen (-)."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"avatar"})," - a URL to an image used as an avatar or logo"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"description"})," - A description of the name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"display"})," - a canonical display name for the ENS name; this MUST match the ENS name when its case is folded, and clients should ignore this value if it does not (e.g. ",(0,r.jsx)(n.code,{children:'"ricmoo.eth"'})," could set this to ",(0,r.jsx)(n.code,{children:'"RicMoo.eth"'}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"email"})," - an e-mail address"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"keywords"})," - A list of comma-separated keywords, ordered by most significant first; clients that interpresent this field may choose a threshold beyond which to ignore"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"mail"})," - A physical mailing address"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"notice"})," - A notice regarding this name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"location"})," - A generic location (e.g. ",(0,r.jsx)(n.code,{children:'"Toronto, Canada"'}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"phone"})," - A phone number as an E.164 string"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"url"})," - a website URL"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{children:"Service Keys"}),"\n",(0,r.jsxs)(n.p,{children:["Service Keys must be made up of a ",(0,r.jsx)(n.em,{children:"reverse dot notation"})," for a namespace which the service owns, for example, DNS names (e.g. ",(0,r.jsx)(n.code,{children:".com"}),", ",(0,r.jsx)(n.code,{children:".io"}),", etc) or ENS name (i.e. ",(0,r.jsx)(n.code,{children:".eth"}),"). Service Keys must contain at least one dot."]}),"\n",(0,r.jsx)(n.p,{children:"This allows new services to start using their own keys without worrying about colliding with existing services and also means new services do not need to update this document."}),"\n",(0,r.jsx)(n.p,{children:"The following services are common, which is why recommendations are provided here, but ideally a service would declare its own key."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"com.github"})," - a GitHub username"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"com.peepeth"})," - a Peepeth username"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"com.linkedin"})," - a LinkedIn username"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"com.twitter"})," - a Twitter username"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"io.keybase"})," - a Keybase username"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"org.telegram"})," - a Telegram username"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"This technique also allows for a service owner to specify a hierarchy for their keys, such as:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"com.example.users"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"com.example.groups"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"com.example.groups.public"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"com.example.groups.private"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{children:"Legacy Keys"}),"\n",(0,r.jsx)(n.p,{children:"The following keys were specified in earlier versions of this ENSIP."}),"\n",(0,r.jsx)(n.p,{children:"Their use is not likely very wide, but applications attempting maximal compatibility may wish to query these keys as a fallback if the above replacement keys fail."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"vnd.github"})," - a GitHub username (renamed to ",(0,r.jsx)(n.code,{children:"com.github"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"vnd.peepeth"})," - a peepeth username (renamed to ",(0,r.jsx)(n.code,{children:"com.peepeth"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"vnd.twitter"})," - a Twitter username (renamed to ",(0,r.jsx)(n.code,{children:"com.twitter"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"rationale",children:"Rationale"}),"\n",(0,r.jsx)(n.h3,{children:"Application-specific vs general-purpose record types"}),"\n",(0,r.jsxs)(n.p,{children:["Rather than define a large number of specific record types (each for generally human-readable data) such as ",(0,r.jsx)(n.code,{children:"url"})," and ",(0,r.jsx)(n.code,{children:"email"}),", we follow an adapted model of DNS's ",(0,r.jsx)(n.code,{children:"TXT"})," records, which allow for a general keys and values, allowing future extension without adjusting the resolver, while allowing applications to use custom keys for their own purposes."]}),"\n",(0,r.jsx)(n.h2,{id:"backwards-compatibility",children:"Backwards Compatibility"}),"\n",(0,r.jsx)(n.p,{children:"Not applicable."}),"\n",(0,r.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,r.jsx)(n.p,{children:"None."}),"\n",(0,r.jsx)(n.h2,{id:"copyright",children:"Copyright"}),"\n",(0,r.jsxs)(n.p,{children:["Copyright and related rights waived via ",(0,r.jsx)(n.a,{href:"https://creativecommons.org/publicdomain/zero/1.0/",children:"CC0"}),"."]})]})}var o=!0;n.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(t,e)})):t(e)}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=7276)}),_N_E=e.O()}]);