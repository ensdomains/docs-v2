(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1282],{2990:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contract-api-reference/reverseregistrar",function(){return n(6963)}])},6963:function(e,r,n){"use strict";n.r(r);var s=n(4637),t=n(6988),o=n(1177),a=n(2370),i=function(e){return(0,o.withSSG)((0,t.Z)({filename:"reverseregistrar.mdx",route:"/contract-api-reference/reverseregistrar",meta:{description:"The registrar responsible for managing reverse resolution via the .addr.reverse special-purpose TLD."},pageMap:[{name:"README",route:"/README"},{name:"SUMMARY",route:"/SUMMARY"},{name:"bug-bounty-program",route:"/bug-bounty-program"},{name:"contract-api-reference",children:[{name:"ENS-Contracts-Overview",route:"/contract-api-reference/ENS-Contracts-Overview"},{name:"dns-registrar",route:"/contract-api-reference/dns-registrar"},{name:"ens",route:"/contract-api-reference/ens",frontMatter:{description:"The ENS registry."}},{name:"eth-permanent-registrar",children:[{name:"README",route:"/contract-api-reference/eth-permanent-registrar/README"},{name:"controller",route:"/contract-api-reference/eth-permanent-registrar/controller"},{name:"registrar",route:"/contract-api-reference/eth-permanent-registrar/registrar"}],route:"/contract-api-reference/eth-permanent-registrar"},{name:"name-processing",route:"/contract-api-reference/name-processing",frontMatter:{description:"Describes how to normalize and hash ENS names."}},{name:"publicresolver",route:"/contract-api-reference/publicresolver",frontMatter:{description:"The default public resolver."}},{name:"reverseregistrar",route:"/contract-api-reference/reverseregistrar",frontMatter:{description:"The registrar responsible for managing reverse resolution via the .addr.reverse special-purpose TLD."}},{name:"testregistrar",route:"/contract-api-reference/testregistrar"}],route:"/contract-api-reference"},{name:"contract-developer-guide",children:[{name:"resolving-names-on-chain",route:"/contract-developer-guide/resolving-names-on-chain"},{name:"writing-a-registrar",route:"/contract-developer-guide/writing-a-registrar"},{name:"writing-a-resolver",route:"/contract-developer-guide/writing-a-resolver"}],route:"/contract-developer-guide"},{name:"dapp-developer-guide",children:[{name:"ens-as-nft",route:"/dapp-developer-guide/ens-as-nft"},{name:"ens-enabling-your-dapp",route:"/dapp-developer-guide/ens-enabling-your-dapp"},{name:"ens-l2-offchain",route:"/dapp-developer-guide/ens-l2-offchain"},{name:"ens-libraries",route:"/dapp-developer-guide/ens-libraries"},{name:"front-end-design-guidelines",route:"/dapp-developer-guide/front-end-design-guidelines",frontMatter:{description:"ENS is a tool to simplify the experience for your users. Here are a series of guidelines and tools that will help you make design choices and implement the best ENS user experience."}},{name:"managing-names",route:"/dapp-developer-guide/managing-names"},{name:"registering-and-renewing-names",route:"/dapp-developer-guide/registering-and-renewing-names"},{name:"resolving-names",route:"/dapp-developer-guide/resolving-names"},{name:"working-with-ens",route:"/dapp-developer-guide/working-with-ens"}],route:"/dapp-developer-guide"},{name:"deploying-ens-on-a-private-chain",route:"/deploying-ens-on-a-private-chain"},{name:"developer",children:[{name:"index",route:"/developer"},{name:"meta.json",meta:{index:{title:"Developer Documentation",type:"docs",theme:{}}},locale:"en-US"}],route:"/developer"},{name:"dns-registrar-guide",route:"/dns-registrar-guide"},{name:"ens-deployments",route:"/ens-deployments"},{name:"ens-improvement-proposals",children:[{name:"README",route:"/ens-improvement-proposals/README",frontMatter:{description:"Standards documentation describing the ENS protocol"}},{name:"ensip-1-ens",route:"/ens-improvement-proposals/ensip-1-ens",frontMatter:{description:"Documentation of the basic ENS protocol (formerly EIP-137)."}},{name:"ensip-10-wildcard-resolution",route:"/ens-improvement-proposals/ensip-10-wildcard-resolution",frontMatter:{description:"Provides a mechanism to support wildcard resolution of ENS names (formerly EIP-2544)."}},{name:"ensip-11-evmchain-address-resolution",route:"/ens-improvement-proposals/ensip-11-evmchain-address-resolution",frontMatter:{description:"Introduces coinType for EVM compatible chains (amending ENSIP9)."}},{name:"ensip-12-avatar-text-records",route:"/ens-improvement-proposals/ensip-12-avatar-text-records",frontMatter:{description:"A standard for storage of the avatar text record in ENS."}},{name:"ensip-2-initial-hash-registrar",route:"/ens-improvement-proposals/ensip-2-initial-hash-registrar",frontMatter:{description:"Describes the hash registrar initially used to register ENS .eth domains (formerly EIP-162)."}},{name:"ensip-3-reverse-resolution",route:"/ens-improvement-proposals/ensip-3-reverse-resolution",frontMatter:{description:"Specifies a TLD, registrar, and resolver interface for reverse resolution of Ethereum addresses using ENS (formerly EIP-181)."}},{name:"ensip-4-support-for-contract-abis",route:"/ens-improvement-proposals/ensip-4-support-for-contract-abis",frontMatter:{description:"A mechanism for storing ABI definitions in ENS, for easy lookup of contract interfaces by callers (formerly EIP-205)."}},{name:"ensip-5-text-records",route:"/ens-improvement-proposals/ensip-5-text-records",frontMatter:{description:"A standard for storage of text records in ENS (formerly EIP-634)."}},{name:"ensip-6-dns-in-ens",route:"/ens-improvement-proposals/ensip-6-dns-in-ens",frontMatter:{description:"Defines a resolver profile for ENS that provides features for storage and lookup of DNS records (formerly EIP-1185)."}},{name:"ensip-7-contenthash-field",route:"/ens-improvement-proposals/ensip-7-contenthash-field",frontMatter:{description:"Introduces a field for storing content addresses and hashes in ENS (formerly EIP-1577)."}},{name:"ensip-8-interface-discovery",route:"/ens-improvement-proposals/ensip-8-interface-discovery",frontMatter:{description:"Defines a method of associating contract interfaces with ENS names and addresses, and of discovering those interfaces (formerly EIP-1844)."}},{name:"ensip-9-multichain-address-resolution",route:"/ens-improvement-proposals/ensip-9-multichain-address-resolution",frontMatter:{description:"Introduces new overloads for the `addr` field for ENS resolvers, which permit resolution of addresses for other blockchains via ENS (formerly EIP-2304)."}}],route:"/ens-improvement-proposals"},{name:"ens-migration-february-2020",children:[{name:"guide-for-dapp-developers",route:"/ens-migration-february-2020/guide-for-dapp-developers"},{name:"technical-description",route:"/ens-migration-february-2020/technical-description"}],route:"/ens-migration-february-2020"},{name:"frequently-asked-questions",route:"/frequently-asked-questions"},{name:"governance",children:[{name:"index",route:"/governance"},{name:"meta.json",meta:{index:{title:"Governance Documentation",type:"docs",theme:{}}},locale:"en-US"}],route:"/governance"},{name:"index",route:"/",frontMatter:{title:"Welcome"}},{name:"meta.json",meta:{index:{title:"Introduction",type:"docs",hidden:!0,theme:{}},governance:{title:"Governance",type:"nav"},user:{title:"User",type:"nav"},developer:{title:"Developer",type:"nav"},technical:{title:"Technical",type:"nav"}},locale:"en-US"},{name:"permanent-registrar-faq",route:"/permanent-registrar-faq"},{name:"technical",children:[{name:"index",route:"/technical"},{name:"meta.json",meta:{index:{title:"Technical Documentation",type:"docs",theme:{}}},locale:"en-US"}],route:"/technical"},{name:"terminology",route:"/terminology"},{name:"user",children:[{name:"index",route:"/user"},{name:"meta.json",meta:{index:{title:"User Documentation",type:"docs",theme:{}}},locale:"en-US"}],route:"/user"}]},a.Z))(e)};function c(e){var r=Object.assign({h1:"h1",p:"p",a:"a",em:"em",h2:"h2",pre:"pre",code:"code",ul:"ul",li:"li",ol:"ol"},e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.h1,{children:"ReverseRegistrar"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/ensdomains/ens/blob/master/contracts/ReverseRegistrar.sol",children:"Source"})}),"\n",(0,s.jsxs)(r.p,{children:["Reverse resolution in ENS - the process of mapping from an Ethereum address (eg, 0x1234...) to an ENS name - is handled using a special namespace, ",(0,s.jsx)(r.em,{children:".addr.reverse"}),". A special-purpose registrar controls this namespace and allocates subdomains to any caller based on their address."]}),"\n",(0,s.jsxs)(r.p,{children:["For example, the account ",(0,s.jsx)(r.em,{children:"0x314159265dd8dbb310642f98f50c066173c1259b"})," can claim ",(0,s.jsx)(r.em,{children:"314159265dd8dbb310642f98f50c066173c1259b.addr.reverse."})," After doing so, it can configure a resolver and expose metadata, such as a canonical ENS name for this address."]}),"\n",(0,s.jsx)(r.p,{children:"The reverse registrar provides functions to claim a reverse record, as well as a convenience function to configure the record as it's most commonly used, as a way of specifying a canonical name for an address."}),"\n",(0,s.jsxs)(r.p,{children:["The reverse registrar is specified in ",(0,s.jsx)(r.a,{href:"https://eips.ethereum.org/EIPS/eip-181",children:"EIP 181"}),"."]}),"\n",(0,s.jsx)(r.h2,{children:"Claim Address"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-text",children:"function claim(address owner) public returns (bytes32);\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Claims the caller's address in the reverse registrar, assigning ownership of the reverse record to ",(0,s.jsx)(r.code,{children:"owner"}),". Equivalent to calling ",(0,s.jsx)(r.code,{children:"claimWithResolver(owner, 0)"}),"."]}),"\n",(0,s.jsx)(r.h2,{children:"Claim Address with Resolver"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-text",children:"function claimWithResolver(address owner, address resolver) public returns (bytes32)\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Claims the caller's address in the reverse registrar, assigning ownership of the reverse record to ",(0,s.jsx)(r.code,{children:"owner"}),". If ",(0,s.jsx)(r.code,{children:"resolver"})," is nonzero, also updates the record's resolver."]}),"\n",(0,s.jsx)(r.p,{children:"After calling this function:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["The reverse record for the caller (",(0,s.jsx)(r.em,{children:"1234....addr.reverse"}),") is owned by  ",(0,s.jsx)(r.code,{children:"owner"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["If ",(0,s.jsx)(r.code,{children:"resolver"})," is nonzero, the reverse record for the caller has its resolver set to ",(0,s.jsx)(r.code,{children:"resolver"}),"; otherwise it is left unchanged."]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{children:"Set Name"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-text",children:"function setName(string memory name) public returns (bytes32)\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Configures the caller's reverse ENS record to point to the provided ",(0,s.jsx)(r.code,{children:"name"}),"."]}),"\n",(0,s.jsx)(r.p,{children:"This convenience function streamlines the process of setting up a reverse record for the common case where a user only wants to configure a reverse name and nothing else. It performs the following steps:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsx)(r.li,{children:"Sets the reverse record for the caller to be owned by the ReverseRegistrar."}),"\n",(0,s.jsxs)(r.li,{children:["Sets the reverse record for the caller to have ",(0,s.jsx)(r.code,{children:"defaultResolver"})," as its resolver."]}),"\n",(0,s.jsxs)(r.li,{children:["Sets the ",(0,s.jsx)(r.code,{children:"name()"})," field in the ",(0,s.jsx)(r.code,{children:"defaultResolver"}),"  for the caller's reverse record to ",(0,s.jsx)(r.code,{children:"name"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["In short, after calling this, a user has a fully configured reverse record claiming the provided ",(0,s.jsx)(r.code,{children:"name"})," as that account's canonical name."]}),"\n",(0,s.jsxs)(r.p,{children:["Users wanting more flexibility will need to use ",(0,s.jsx)(r.code,{children:"claim"})," or ",(0,s.jsx)(r.code,{children:"claimWithResolver"})," and configure records manually on their chosen resolver contract."]}),"\n",(0,s.jsx)(r.h2,{children:"Get Reverse Record Node"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-text",children:"function node(address addr) public pure returns (bytes32)\n"})}),"\n",(0,s.jsx)(r.p,{children:"Accepts an address, and returns the node (namehash output) for the address's reverse record. This function is provided as a convenience for contracts wishing to look up metadata for an address, and avoids the need for those contracts to handle the hex encoding and hashing necessary to derive the required value."}),"\n",(0,s.jsx)(r.h2,{children:"Get Default Resolver"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-text",children:"Resolver public defaultResolver;\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Returns the address of the resolver contract that the ",(0,s.jsx)(r.code,{children:"ReverseRegistrar"})," uses for ",(0,s.jsx)(r.code,{children:"setName"}),"."]})]})}r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.jsx)(i,Object.assign({},e,{children:(0,s.jsx)(c,e)}))}}},function(e){e.O(0,[8164,3248,9774,2888,179],(function(){return r=2990,e(e.s=r);var r}));var r=e.O();_N_E=r}]);