import { WIP } from '@/components/wip/WIP';

{/** @type {import('@/lib/mdxPageProps').MdxMetaProps} */}
export const meta = {
    description: '',
    emoji: 'üîó',
    contributors: []
};

# Layer 2 & Offchain Resolution

Some names might have resolvers that leverage [EIP-3668](https://eips.ethereum.org/EIPS/eip-3668), otherwise known as CCIP Read, an Ethereum standard that enables any smart contracts to defer loading data to an external source (such as a database, rollup, L2, or just an http endpoint).
This means that using CCIP we can write a resolver whose subdomains are on an L2, or in a database.

<div className="card1 p-4 flex justify-center items-center gap-4">
    <Usertag name="lucemans.cb.id" image="https://metadata.ens.domains/mainnet/avatar/luc.eth" />
    <div>‚û°Ô∏è</div>
    <div className="text-center leading-4">
        <div className="font-bold">Resolver</div>
        <div>0x1234</div>
    </div>
    <div>‚û°Ô∏è</div>
    <div className="text-center leading-4">
        <div className="font-bold">Gateway</div>
        <div>api.example.com</div>
    </div>
    <div>‚û°Ô∏è</div>
    <div className="text-center leading-4 card p-2 no-margin !bg-lime-50">
        <div className="font-bold">Address:</div>
        <div>0x225...c3b5</div>
    </div>
</div>

## So unlimited free subnames?

By loading data from a gateway, write operations (and thereby gas costs) can be deferred to an L2, or completely circumvented using a database.
This means subnames can be issued gaslessly, tokenized on an L2, inferred from live DNS data, and more.
And records can be updated in a similar manner depending on the implementation.

## How does it work?

TLDR; The smart contract reverts with a custom error code, client sdk's (such as ethers and viem) do a ccip read gateway request, the data is sent back to the callback function, the original function resolves.

<img src="/content/learn/ccip/1.png" className="w-full card" />

If you're interested to read more or would like to implement ccip resolution, a more in-depth analysis can be found at:

<EmbedLink
    href="/resolvers/ccip"
    title="Cross Chain Interoperability for Developers"
    tag="Advanced"
    description="To learn more about the cross chain interoparability."
/>
