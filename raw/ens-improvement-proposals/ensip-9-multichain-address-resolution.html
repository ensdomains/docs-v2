<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><title>Untitled â€” ENS Documentation</title><style>html{font-family:Inter,sans-serif}@supports(font-variation-settings:normal){html{font-family:'Inter var',sans-serif}}</style><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#ffffff"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="Content-Language" content="en"/><meta name="description" content="ENS Documentation"/><meta name="og:description" content="ENS Documentation"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="/_next/static/media/og_preview.42aa5db6.png"/><meta name="twitter:site:domain" content="docs.ens.domains"/><meta name="twitter:url" content="https://docs.ens.domains"/><meta name="og:title" content="ENS Domains Documentation"/><meta name="og:image" content="/_next/static/media/og_preview.42aa5db6.png"/><meta name="apple-mobile-web-app-title" content="Nextra"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><meta name="next-head-count" content="19"/><link rel="preload" href="/_next/static/css/b632be400df2dadf.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b632be400df2dadf.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8acf8abb52855707.js" defer=""></script><script src="/_next/static/chunks/framework-4bac9926a9106dbf.js" defer=""></script><script src="/_next/static/chunks/main-1687c9c53a9f60c1.js" defer=""></script><script src="/_next/static/chunks/pages/_app-f324392623e7b583.js" defer=""></script><script src="/_next/static/chunks/4698-b9221df79e129275.js" defer=""></script><script src="/_next/static/chunks/9214-1d63eb631d58e4d8.js" defer=""></script><script src="/_next/static/chunks/pages/raw/ens-improvement-proposals/ensip-9-multichain-address-resolution-d1cb048b3448c22f.js" defer=""></script><script src="/_next/static/VQsGbFGeBdlWwEKDsaJ9R/_buildManifest.js" defer=""></script><script src="/_next/static/VQsGbFGeBdlWwEKDsaJ9R/_ssgManifest.js" defer=""></script></head><body class="bg-ensl-backgroundSecondary dark:bg-ensd-backgroundSecondary"><div id="__next" data-reactroot=""><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="nextra-container main-container flex flex-col"><nav class="flex items-center bg-white z-20 fixed top-0 left-0 right-0 h-16 border-b border-gray-200 px-6 dark:bg-dark dark:border-gray-900 bg-opacity-[.97] dark:bg-opacity-100"><div class="h-10 flex flex-shrink-0 items-center mr-4"><a class="h-full flex no-underline text-current items-center hover:opacity-75" href="/"><img src="/ens_docs_logo.svg" alt="ENS Docs" class="h-full"/></a></div><div class="w-full hidden lg:block"><a class="font-bold no-underline whitespace-nowrap mr-4 hidden md:inline-block text-gray-500" href="/user">User</a><a class="font-bold no-underline whitespace-nowrap mr-4 hidden md:inline-block text-gray-500" href="/developer">Developer</a><a class="font-bold no-underline whitespace-nowrap mr-4 hidden md:inline-block text-gray-500" href="/technical">Technical</a><a class="font-bold no-underline whitespace-nowrap mr-4 hidden md:inline-block text-gray-500" href="/governance">Governance</a></div><div class="flex-1"><div class="hidden md:inline-block mr-2"><div class="nextra-search relative w-full md:w-64"><input type="search" class="appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:ring w-full" placeholder="Search (&quot;/&quot; to focus)"/></div></div></div><button class="text-current p-2 cursor-pointer" tabindex="0"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"></svg></button><a class="text-current p-2" href="https://github.com/ensdomains/docs-v2" target="_blank"><svg height="24" viewBox="2 2 20 20" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z" fill="currentColor"></path></svg></a><button class="block md:hidden p-2"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div class="-mr-2"></div></nav><div class="flex flex-1 h-full"><aside class="fixed h-screen bg-ensl-background dark:bg-ensd-backgroundSecondary flex-shrink-0 w-full md:w-64 xl:w-96 md:sticky z-20 hidden md:block" style="top:4rem;height:calc(100vh - 4rem)"><div class="sidebar border-gray-200 dark:border-gray-900 w-full p-4 pb-40 md:pb-16 h-full overflow-y-auto"><div class="mb-4 block md:hidden"><div class="nextra-search relative w-full md:w-64"><input type="search" class="appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:ring w-full" placeholder="Search (&quot;/&quot; to focus)"/></div></div><div class="hidden md:block"><ul><li class=""><a href="/">Introduction</a></li></ul></div><div class="md:hidden"><ul><li class=""><a href="/">Introduction</a></li><li class="active"><button>User</button><div style="display:initial"><ul><li class=""><a href="/user">User Documentation</a></li></ul></div></li><li class="active"><button>Developer</button><div style="display:initial"><ul><li class=""><a href="/developer">Developer Documentation</a></li><li class=""><a href="/developer/getting-started">Getting Started</a></li><li class=""><a href="/developer/basics">Basics</a></li><li class=""><a href="/developer/working-directly-with-ens">Manual Contract API</a></li></ul></div></li><li class="active"><button>Technical</button><div style="display:initial"><ul><li class=""><a href="/technical">Technical Documentation</a></li><li class=""><a href="/technical/about">About</a></li></ul></div></li><li class="active"><button>Governance</button><div style="display:initial"><ul><li class=""><a href="/governance">Governance Documentation</a></li></ul></div></li><li class="active"><button>Raw</button><div style="display:initial"><ul><li class=""><a href="/raw/SUMMARY">Summary</a></li><li class=""><a href="/raw/bug-bounty-program">Bug-Bounty-Program</a></li><li class="active"><button>Contract-API-Reference</button><div style="display:initial"><ul><li class=""><a href="/raw/contract-api-reference/ENS-Contracts-Overview">Ens-Contracts-Overview</a></li><li class=""><a href="/raw/contract-api-reference/dns-registrar">DNS-Registrar</a></li><li class=""><a href="/raw/contract-api-reference/ens">Ens</a></li><li class="active"><button>Eth-Permanent-Registrar</button><div style="display:initial"><ul><li class=""><a href="/raw/contract-api-reference/eth-permanent-registrar/README">Readme</a></li><li class=""><a href="/raw/contract-api-reference/eth-permanent-registrar/controller">Controller</a></li><li class=""><a href="/raw/contract-api-reference/eth-permanent-registrar/registrar">Registrar</a></li></ul></div></li><li class=""><a href="/raw/contract-api-reference/name-processing">Name-Processing</a></li><li class=""><a href="/raw/contract-api-reference/publicresolver">Publicresolver</a></li><li class=""><a href="/raw/contract-api-reference/reverseregistrar">Reverseregistrar</a></li><li class=""><a href="/raw/contract-api-reference/testregistrar">Testregistrar</a></li></ul></div></li><li class="active"><button>Contract-Developer-Guide</button><div style="display:initial"><ul><li class=""><a href="/raw/contract-developer-guide/resolving-names-on-chain">Resolving-Names-On-Chain</a></li><li class=""><a href="/raw/contract-developer-guide/writing-a-registrar">Writing-A-Registrar</a></li><li class=""><a href="/raw/contract-developer-guide/writing-a-resolver">Writing-A-Resolver</a></li></ul></div></li><li class="active"><button>Dapp-Developer-Guide</button><div style="display:initial"><ul><li class=""><a href="/raw/dapp-developer-guide/ens-as-nft">Ens-As-Nft</a></li><li class=""><a href="/raw/dapp-developer-guide/ens-l2-offchain">Ens-L2-Offchain</a></li><li class=""><a href="/raw/dapp-developer-guide/front-end-design-guidelines">Front-End-Design-Guidelines</a></li><li class=""><a href="/raw/dapp-developer-guide/managing-names">Managing-Names</a></li><li class=""><a href="/raw/dapp-developer-guide/registering-and-renewing-names">Registering-And-Renewing-Names</a></li><li class=""><a href="/raw/dapp-developer-guide/resolving-names">Resolving-Names</a></li></ul></div></li><li class=""><a href="/raw/deploying-ens-on-a-private-chain">Deploying-Ens-On-A-Private-Chain</a></li><li class=""><a href="/raw/dns-registrar-guide">DNS-Registrar-Guide</a></li><li class=""><a href="/raw/ens-deployments">Ens-Deployments</a></li><li class="active"><button>Ens-Improvement-Proposals</button><div style="display:initial"><ul><li class=""><a href="/raw/ens-improvement-proposals/README">Readme</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-1-ens">Ensip-1-Ens</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-10-wildcard-resolution">Ensip-10-Wildcard-Resolution</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-11-evmchain-address-resolution">Ensip-11-Evmchain-Address-Resolution</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-12-avatar-text-records">Ensip-12-Avatar-Text-Records</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-2-initial-hash-registrar">Ensip-2-Initial-Hash-Registrar</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-3-reverse-resolution">Ensip-3-Reverse-Resolution</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-4-support-for-contract-abis">Ensip-4-Support-For-Contract-Abis</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-5-text-records">Ensip-5-Text-Records</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-6-dns-in-ens">Ensip-6-DNS-In-Ens</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-7-contenthash-field">Ensip-7-Contenthash-Field</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-8-interface-discovery">Ensip-8-Interface-Discovery</a></li><li class="active"><a href="/raw/ens-improvement-proposals/ensip-9-multichain-address-resolution">Ensip-9-Multichain-Address-Resolution</a></li></ul></div></li><li class="active"><button>Ens-Migration-February-2020</button><div style="display:initial"><ul><li class=""><a href="/raw/ens-migration-february-2020/guide-for-dapp-developers">Guide-For-Dapp-Developers</a></li><li class=""><a href="/raw/ens-migration-february-2020/technical-description">Technical-Description</a></li></ul></div></li><li class=""><a href="/raw/frequently-asked-questions">Frequently-Asked-Questions</a></li><li class=""><a href="/raw/permanent-registrar-faq">Permanent-Registrar-Faq</a></li><li class=""><a href="/raw/terminology">Terminology</a></li></ul></div></li></ul></div></div></aside><article class="docs-container relative pt-16 pb-16 px-6 md:px-8 w-full max-w-full flex min-w-0"><main class="max-w-screen-md w-full mx-auto pt-4 z-10 min-w-0"><h1>ENSIP-9: Multichain Address Resolution</h1>
<table><thead><tr><th><strong>Author</strong></th><th>Nick Johnson <!-- -->[nick@ens.domains]</th></tr></thead><tbody><tr><td><strong>Status</strong></td><td>Final</td></tr><tr><td><strong>Submitted</strong></td><td>2019-09-09</td></tr></tbody></table>
<h3>Motivation</h3>
<p>With the increasing uptake of ENS by multi-coin wallets, wallet authors have requested the ability to resolve addresses for non-Ethereum chains inside ENS. This specification standardises a way to enter and retrieve these addresses in a cross-client fashion.</p>
<h3>Specification</h3>
<p>A new accessor function for resolvers is specified:</p>
<pre><code class="language-solidity">function addr(bytes32 node, uint coinType) external view returns(bytes memory);
</code></pre>
<p>The EIP165 interface ID for this function is 0xf1cb7e06.</p>
<p>When called on a resolver, this function must return the cryptocurrency address for the specified namehash and coin type. A zero-length string must be returned if the specified coin ID does not exist on the specified node.</p>
<p><code>coinType</code> is the cryptocurrency coin type index from <a href="https://github.com/satoshilabs/slips/blob/master/slip-0044.md">SLIP44</a>.</p>
<p>The return value is the cryptocurrency address in its native binary format. Detailed descriptions of the binary encodings for several popular chains are provided in the Address Encoding section below.</p>
<p>A new event for resolvers is defined:</p>
<pre><code class="language-solidity">event AddressChanged(bytes32 indexed node, uint coinType, bytes newAddress);
</code></pre>
<p>Resolvers MUST emit this event on each change to the address for a name and coin type.</p>
<h4>Recommended accessor functions</h4>
<p>The following function provides the recommended interface for changing the addresses stored for a node. Resolvers SHOULD implement this interface for setting addresses unless their needs dictate a different interface.</p>
<pre><code class="language-solidity">function setAddr(bytes32 node, uint coinType, bytes calldata addr);
</code></pre>
<p><code>setAddr</code> adds or replaces the address for the given node and coin type. The parameters for this function are as per those described in <code>addr()</code> above.</p>
<p>This function emits an <code>AddressChanged</code> event with the new address; see also the backwards compatibility section below for resolvers that also support <code>addr(bytes32)</code>.</p>
<h4>Address Encoding</h4>
<p>In general, the native binary representation of the address should be used, without any checksum commonly used in the text representation.</p>
<p>A table of encodings for common blockchains is provided, followed by a more detailed description of each format. In the table, &#x27;encodings&#x27; lists the address encodings supported by that chain, along with any relevant parameters. Details of those address encodings are described in the following sections.</p>
<table><thead><tr><th>Cryptocurrency</th><th>Coin Type</th><th>Encoding</th></tr></thead><tbody><tr><td>Bitcoin</td><td>0</td><td>P2PKH(0x00), P2SH(0x05), SegWit(&#x27;bc&#x27;)</td></tr><tr><td>Litecoin</td><td>2</td><td>P2PKH(0x30), P2SH(0x32), P2SH(0x05), SegWit(&#x27;ltc&#x27;)</td></tr><tr><td>Dogecoin</td><td>3</td><td>P2PKH(0x1e), P2SH(0x16)</td></tr><tr><td>Monacoin</td><td>22</td><td>P2PKH(0x32), P2SH(0x05)</td></tr><tr><td>Ethereum</td><td>60</td><td>ChecksummedHex</td></tr><tr><td>Ethereum Classic</td><td>61</td><td>ChecksummedHex</td></tr><tr><td>Rootstock</td><td>137</td><td>ChecksummedHex(30)</td></tr><tr><td>Ripple</td><td>144</td><td>Ripple</td></tr><tr><td>Bitcoin Cash</td><td>145</td><td>P2PKH(0x00), P2SH(0x05), CashAddr</td></tr><tr><td>Binance</td><td>714</td><td>Bech32(&#x27;bnb&#x27;)</td></tr></tbody></table>
<p><strong>P2PKH(version)</strong></p>
<p>Pay to Public Key Hash addresses are <a href="https://en.bitcoin.it/wiki/Base58Check_encoding">base58check</a> encoded. After decoding, the first byte is a version byte. For example, the Bitcoin address <code>1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa</code> base58check decodes to the 21 bytes <code>0062e907b15cbf27d5425399ebf6f0fb50ebb88f18</code>.</p>
<p>P2PKH addresses have a version byte, followed by a 20 byte pubkey hash. Their canonical encoding is their scriptPubkey encoding (specified <a href="https://en.bitcoin.it/wiki/Transaction#Types_of_Transaction">here</a>) is <code>OP_DUP OP_HASH160 &lt;pubKeyHash&gt; OP_EQUALVERIFY OP_CHECKSIG</code>.</p>
<p>The above example address is thus encoded as the 25 bytes <code>76a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1888ac</code>.</p>
<p><strong>P2SH(version)</strong></p>
<p>P2SH addresses are base58check encoded in the same manner as P2PKH addresses. P2SH addresses have a version, followed by a 20 byte script hash. Their scriptPubkey encoding (specified <a href="https://en.bitcoin.it/wiki/Transaction#Pay-to-Script-Hash">here</a>) is <code>OP_HASH160 &lt;scriptHash&gt; OP_EQUAL</code>. A Bitcoin address of <code>3Ai1JZ8pdJb2ksieUV8FsxSNVJCpoPi8W6</code> decodes to the 21 bytes <code>0562e907b15cbf27d5425399ebf6f0fb50ebb88f18</code> and is encoded as the 23 bytes <code>a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1887</code>.</p>
<p><strong>SegWit(hrp)</strong></p>
<p>SegWit addresses are encoded with <a href="https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki">bech32</a>. Bech32 addresses consist of a human-readable part - &#x27;bc&#x27; for Bitcoin mainnet - and a machine readable part. For SegWit addresses, this decodes to a &#x27;witness version&#x27;, between 0 and 15, and a &#x27;witness program&#x27;, as defined in <a href="https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki">BIP141</a>.</p>
<p>The scriptPubkey encoding for a bech32 address, as defined in BIP141, is <code>OP_n</code>, where <code>n</code> is the witness version, followed by a push of the witness program. Note this warning from BIP173:</p>
<blockquote>
<p>Implementations should take special care when converting the address to a scriptPubkey, where witness version n is stored as OP_n. OP_0 is encoded as 0x00, but OP_1 through OP_16 are encoded as 0x51 though 0x60 (81 to 96 in decimal). If a bech32 address is converted to an incorrect scriptPubKey the result will likely be either unspendable or insecure.</p>
</blockquote>
<p>For example, the Bitcoin SegWit address <code>BC1QW508D6QEJXTDG4Y5R3ZARVARY0C5XW7KV8F3T4</code> decodes to a version of <code>0</code> and a witness script of <code>751e76e8199196d454941c45d1b3a323f1433bd6</code>, and then encodes to a scriptPubkey of <code>0014751e76e8199196d454941c45d1b3a323f1433bd6</code>.</p>
<p><strong>ChecksummedHex(chainId?)</strong></p>
<p>To translate a text format checksummed hex address into binary format, simply remove the &#x27;0x&#x27; prefix and hex decode it. <code>0x314159265dD8dbb310642f98f50C066173C1259b</code> is hex-decoded and stored as the 20 bytes <code>314159265dd8dbb310642f98f50c066173c1259b</code>.</p>
<p>A checksum format is specified by EIP-55, and extended by <a href="https://github.com/rsksmart/RSKIPs/blob/master/IPs/RSKIP60.md">RSKIP60</a>, which specifies a means of including the chain ID in the checksum. The checksum on a text format address must be checked. Addresses with invalid checksums that are not all uppercase or all lowercase MUST be rejected with an error. Implementations may choose whether to accept non-checksummed addresses, but the authors recommend at least providing a warning to users in this situation.</p>
<p>When encoding an address from binary to text, an EIP55/RSKIP60 checksum MUST be used - so the correct encoding of the above address for Ethereum is <code>0x314159265dD8dbb310642f98f50C066173C1259b</code>.</p>
<p><strong>Ripple</strong></p>
<p>Ripple addresses are encoded using a version of base58check with an alternative alphabet, described <a href="https://xrpl.org/base58-encodings.html">here</a>. Two types of ripple addresses are supported, &#x27;r-addresses&#x27;, and &#x27;X-addresss&#x27;. r-addresses consist of a version byte followed by a 20 byte hash, while X-addresses consist of a version byte, a 20 byte hash, and a tag, specified <a href="https://github.com/xrp-community/standards-drafts/issues/6">here</a>.</p>
<p>Both address types should be stored in ENS by performing ripple&#x27;s version of base58check decoding and storing them directly (including version byte). For example, the ripple address <code>rf1BiGeXwwQoi8Z2ueFYTEXSwuJYfV2Jpn</code> decodes to and is stored as <code>004b4e9c06f24296074f7bc48f92a97916c6dc5ea9</code>, while the address <code>X7qvLs7gSnNoKvZzNWUT2e8st17QPY64PPe7zriLNuJszeg</code> decodes to and is stored as <code>05444b4e9c06f24296074f7bc48f92a97916c6dc5ea9000000000000000000</code>.</p>
<p><strong>CashAddr</strong></p>
<p>Bitcoin Cash defines a new address format called &#x27;CashAddr&#x27;, specified <a href="https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/cashaddr.md">here</a>. This uses a variant of bech32 encoding to encode and decode (non-segwit) Bitcoin Cash addresses, using a prefix of &#x27;bitcoincash:&#x27;. A CashAddr should be decoded using this bech32 variant, then converted and stored based on its type (P2PKH or P2SH) as described in the relevant sections above.</p>
<p><strong>Bech32</strong></p>
<p><a href="https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki">Bech32</a> addresses consist of a human-readable part - for example, &#x27;bnb&#x27; for Binance - and a machine readable part. The encoded data is simply the address, which can be converted to binary and stored directly.</p>
<p>For example, the BNB address <code>bnb1grpf0955h0ykzq3ar5nmum7y6gdfl6lxfn46h2</code> decodes to the binary representation <code>40c2979694bbc961023d1d27be6fc4d21a9febe6</code>, which is stored directly in ENS.</p>
<h4>Example</h4>
<p>An example implementation of a resolver that supports this ENSIP is provided here:</p>
<pre><code class="language-solidity">pragma solidity ^0.5.8;

contract AddrResolver is ResolverBase {
    bytes4 constant private ADDR_INTERFACE_ID = 0x3b3b57de;
    bytes4 constant private ADDRESS_INTERFACE_ID = 0xf1cb7e06;
    uint constant private COIN_TYPE_ETH = 60;

    event AddrChanged(bytes32 indexed node, address a);
    event AddressChanged(bytes32 indexed node, uint coinType, bytes newAddress);

    mapping(bytes32=&gt;mapping(uint=&gt;bytes)) _addresses;

    /**
     * Sets the address associated with an ENS node.
     * May only be called by the owner of that node in the ENS registry.
     * @param node The node to update.
     * @param a The address to set.
     */
    function setAddr(bytes32 node, address a) external authorised(node) {
        setAddr(node, COIN_TYPE_ETH, addressToBytes(a));
    }

    /**
     * Returns the address associated with an ENS node.
     * @param node The ENS node to query.
     * @return The associated address.
     */
    function addr(bytes32 node) public view returns (address) {
        bytes memory a = addr(node, COIN_TYPE_ETH);
        if(a.length == 0) {
            return address(0);
        }
        return bytesToAddress(a);
    }

    function setAddr(bytes32 node, uint coinType, bytes memory a) public authorised(node) {
        emit AddressChanged(node, coinType, a);
        if(coinType == COIN_TYPE_ETH) {
            emit AddrChanged(node, bytesToAddress(a));
        }
        _addresses[node][coinType] = a;
    }

    function addr(bytes32 node, uint coinType) public view returns(bytes memory) {
        return _addresses[node][coinType];
    }

    function supportsInterface(bytes4 interfaceID) public pure returns(bool) {
        return interfaceID == ADDR_INTERFACE_ID || interfaceID == ADDRESS_INTERFACE_ID || super.supportsInterface(interfaceID);
    }
}
</code></pre>
<h4>Implementation</h4>
<p>An implementation of this interface is provided in the <a href="https://github.com/ensdomains/resolvers/">ensdomains/resolvers</a> repository.</p>
<h3>Backwards Compatibility</h3>
<p>If the resolver supports the <code>addr(bytes32)</code> interface defined in ENSIP-1, the resolver MUST treat this as a special case of this new specification in the following ways:</p>
<ol>
<li>The value returned by <code>addr(node)</code> from ENSIP-1 should always match the value returned by <code>addr(node, 60)</code> (60 is the coin type ID for Ethereum).</li>
<li>Anything that causes the <code>AddrChanged</code> event from ENSIP-1 to be emitted must also emit an <code>AddressChanged</code> event from this ENSIP, with the <code>coinType</code> specified as 60, and vice-versa.</li>
</ol>
<h3>Tests</h3>
<p>The table below specifies test vectors for valid address encodings for each cryptocurrency described above.</p>
<table><thead><tr><th>Cryptocurrency</th><th>Coin Type</th><th>Text</th><th>Onchain (hex)</th></tr></thead><tbody><tr><td>Bitcoin</td><td>0</td><td><code>1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa</code></td><td><code>76a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1888ac</code></td></tr><tr><td></td><td></td><td><code>3Ai1JZ8pdJb2ksieUV8FsxSNVJCpoPi8W6</code></td><td><code>a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1887</code></td></tr><tr><td></td><td></td><td><code>BC1QW508D6QEJXTDG4Y5R3ZARVARY0C5XW7KV8F3T4</code></td><td><code>0014751e76e8199196d454941c45d1b3a323f1433bd6</code></td></tr><tr><td>Litecoin</td><td>2</td><td><code>LaMT348PWRnrqeeWArpwQPbuanpXDZGEUz</code></td><td><code>76a914a5f4d12ce3685781b227c1f39548ddef429e978388ac</code></td></tr><tr><td></td><td></td><td><code>MQMcJhpWHYVeQArcZR3sBgyPZxxRtnH441</code></td><td><code>a914b48297bff5dadecc5f36145cec6a5f20d57c8f9b87</code></td></tr><tr><td></td><td></td><td><code>ltc1qdp7p2rpx4a2f80h7a4crvppczgg4egmv5c78w8</code></td><td><code>0014687c150c26af5493befeed7036043812115ca36c</code></td></tr><tr><td>Dogecoin</td><td>3</td><td><code>DBXu2kgc3xtvCUWFcxFE3r9hEYgmuaaCyD</code></td><td><code>76a9144620b70031f0e9437e374a2100934fba4911046088ac</code></td></tr><tr><td></td><td></td><td><code>AF8ekvSf6eiSBRspJjnfzK6d1EM6pnPq3G</code></td><td><code>a914f8f5d99a9fc21aa676e74d15e7b8134557615bda87</code></td></tr><tr><td>Monacoin</td><td>22</td><td><code>MHxgS2XMXjeJ4if2PRRbWYcdwZPWfdwaDT</code></td><td><code>76a9146e5bb7226a337fe8307b4192ae5c3fab9fa9edf588ac</code></td></tr><tr><td>Ethereum</td><td>60</td><td><code>0x314159265dD8dbb310642f98f50C066173C1259b</code></td><td><code>314159265dd8dbb310642f98f50c066173c1259b</code></td></tr><tr><td>Rootstock</td><td>137</td><td><code>0x5aaEB6053f3e94c9b9a09f33669435E7ef1bEAeD</code></td><td><code>5aaeb6053f3e94c9b9a09f33669435e7ef1beaed</code></td></tr><tr><td>Ripple</td><td>144</td><td><code>rf1BiGeXwwQoi8Z2ueFYTEXSwuJYfV2Jpn</code></td><td><code>004b4e9c06f24296074f7bc48f92a97916c6dc5ea9</code></td></tr><tr><td></td><td></td><td><code>X7qvLs7gSnNoKvZzNWUT2e8st17QPY64PPe7zriLNuJszeg</code></td><td><code>05444b4e9c06f24296074f7bc48f92a97916c6dc5ea9000000000000000000</code></td></tr><tr><td>Bitcoin Cash</td><td>145</td><td><code>1BpEi6DfDAUFd7GtittLSdBeYJvcoaVggu</code></td><td><code>76a91476a04053bda0a88bda5177b86a15c3b29f55987388ac</code></td></tr><tr><td></td><td></td><td><code>bitcoincash:qpm2qsznhks23z7629mms6s4cwef74vcwvy22gdx6a</code></td><td><code>76a91476a04053bda0a88bda5177b86a15c3b29f55987388ac</code></td></tr><tr><td></td><td></td><td><code>3CWFddi6m4ndiGyKqzYvsFYagqDLPVMTzC</code></td><td><code>a91476a04053bda0a88bda5177b86a15c3b29f55987387</code></td></tr><tr><td></td><td></td><td><code>bitcoincash:ppm2qsznhks23z7629mms6s4cwef74vcwvn0h829pq</code></td><td><code>a91476a04053bda0a88bda5177b86a15c3b29f55987387</code></td></tr><tr><td>Binance</td><td>714</td><td><code>bnb1grpf0955h0ykzq3ar5nmum7y6gdfl6lxfn46h2</code></td><td><code>40c2979694bbc961023d1d27be6fc4d21a9febe6</code></td></tr></tbody></table>
<h3>Copyright</h3>
<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p><footer class="mt-24"><div class="flex flex-row items-center justify-between"><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center mr-2" title="Ensip-8-Interface-Discovery" href="/raw/ens-improvement-proposals/ensip-8-interface-discovery"><svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 rotate-180 mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>Ensip-8-Interface-Discovery</a></div><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center ml-2" title="Guide-For-Dapp-Developers" href="/raw/ens-migration-february-2020/guide-for-dapp-developers">Guide-For-Dapp-Developers<svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 ml-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></div></div><hr/><div class="mt-24 flex justify-between flex-col-reverse md:flex-row items-center md:items-end"><span class="text-gray-600">GPLv3 <!-- -->2022<!-- --> Â© ENS Labs</span><div class="mt-6"></div><a class="text-sm" href="https://github.com/ensdomains/docs-v2/blob/main/pages/raw/ens-improvement-proposals/ensip-9-multichain-address-resolution.mdx" target="_blank">Edit this page on GitHub</a></div></footer></main><div class="w-64 hidden 2xl:block text-sm pl-4"></div></article></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/raw/ens-improvement-proposals/ensip-9-multichain-address-resolution","query":{},"buildId":"VQsGbFGeBdlWwEKDsaJ9R","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>