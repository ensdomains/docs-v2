<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><link rel="stylesheet" href="https://rsms.me/inter/inter.css"/><title>Untitled — ENS Documentation</title><style>html{font-family:Inter,sans-serif}@supports(font-variation-settings:normal){html{font-family:'Inter var',sans-serif}}</style><meta name="msapplication-TileColor" content="#ffffff"/><meta name="theme-color" content="#ffffff"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="Content-Language" content="en"/><meta name="description" content="ENS Documentation"/><meta name="og:description" content="ENS Documentation"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="/_next/static/media/og_preview.42aa5db6.png"/><meta name="twitter:site:domain" content="docs.ens.domains"/><meta name="twitter:url" content="https://docs.ens.domains"/><meta name="og:title" content="ENS Domains Documentation"/><meta name="og:image" content="/_next/static/media/og_preview.42aa5db6.png"/><meta name="apple-mobile-web-app-title" content="Nextra"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><meta name="next-head-count" content="19"/><link rel="preload" href="/_next/static/css/307658d4fa81ff23.css" as="style"/><link rel="stylesheet" href="/_next/static/css/307658d4fa81ff23.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ec27e08f28ddf016.js" defer=""></script><script src="/_next/static/chunks/framework-4bac9926a9106dbf.js" defer=""></script><script src="/_next/static/chunks/main-1687c9c53a9f60c1.js" defer=""></script><script src="/_next/static/chunks/pages/_app-c2660c3cffe5a5ec.js" defer=""></script><script src="/_next/static/chunks/4698-b9221df79e129275.js" defer=""></script><script src="/_next/static/chunks/9214-0cdb501647e7e84c.js" defer=""></script><script src="/_next/static/chunks/pages/raw/ens-improvement-proposals/ensip-10-wildcard-resolution-e3d99a69ad0d0295.js" defer=""></script><script src="/_next/static/B5kUtG3bCvzqdzQAxH3Ck/_buildManifest.js" defer=""></script><script src="/_next/static/B5kUtG3bCvzqdzQAxH3Ck/_ssgManifest.js" defer=""></script></head><body class="bg-ensl-backgroundSecondary dark:bg-ensd-backgroundSecondary"><div id="__next" data-reactroot=""><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="nextra-container main-container flex flex-col"><nav class="flex items-center bg-white z-20 fixed top-0 left-0 right-0 h-16 border-b border-gray-200 px-6 dark:bg-dark dark:border-gray-900 bg-opacity-[.97] dark:bg-opacity-100"><div class="h-10 flex flex-shrink-0 items-center mr-4"><a class="h-full flex no-underline text-current items-center hover:opacity-75" href="/"><img src="/ens_docs_logo.svg" alt="ENS Docs" class="h-full"/></a></div><div class="w-full hidden lg:block combofox h-full"><div class="sc-fnykZs dHBCVb"><div data-testid="select" for="undefined-33" id="undefined-33-label" class="sc-ksZaOG gZBWSl"><label for="undefined-33" id="undefined-33-label" class="sc-evZas hfNqdP"> </label></div><div style="position:relative" aria-labelledby="undefined-33-label" id="undefined-33"><div style="z-index:101" aria-controls="listbox-33" aria-expanded="true" aria-haspopup="listbox" data-testid="select-container" role="combobox" id="combo-33" tabindex="-1" class="sc-ehmTmK iDLcmr"><div class="sc-lbOyJj hhlnGu"></div><div class="sc-gFGZVQ jGSIqA"><button type="button" class="sc-fXynhf kOa-Ddy"><svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" focusable="false" shape-rendering="geometricPrecision" class="sc-dwLEzm ipwONI"><path d="M11.2552 17.8659C11.6526 18.3095 12.3474 18.3095 12.7448 17.8659L22.5063 6.97001C23.0833 6.32597 22.6262 5.30274 21.7615 5.30274H2.2385C1.37381 5.30274 0.916704 6.32597 1.49369 6.97001L11.2552 17.8659Z" fill="currentColor"></path></svg></button></div><div class="sc-eCYdqJ hrCMmN"><input aria-hidden="true" tabindex="-1" value=""/></div></div><div id="listbox-33" role="listbox" tabindex="-1" class="sc-TRNrF DujAH"><div class="sc-jIAOiI bYjvaf"><div data-option-index="0" role="option" class="sc-ZyCDH jnqRiK"><div>📚</div>User</div><div data-option-index="1" role="option" class="sc-ZyCDH jnqRiK"><div>🔧</div>Developer</div><div data-option-index="2" role="option" class="sc-ZyCDH jnqRiK"><div>👷</div>Technical</div><div data-option-index="3" role="option" class="sc-ZyCDH jnqRiK"><div>🏛️</div>Governance</div></div></div></div></div></div><div class="flex-1"><div class="hidden md:inline-block mr-2"><div class="nextra-search relative w-full md:w-64"><input type="search" class="appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:ring w-full" placeholder="Search (&quot;/&quot; to focus)"/></div></div></div><button class="text-current p-2 cursor-pointer" tabindex="0"><svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" shape-rendering="geometricPrecision"></svg></button><a class="text-current p-2" href="https://github.com/ensdomains/docs-v2" target="_blank"><svg height="24" viewBox="2 2 20 20" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z" fill="currentColor"></path></svg></a><button class="block md:hidden p-2"><svg fill="none" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg></button><div class="-mr-2"></div></nav><div class="flex flex-1 h-full"><aside class="pt-8 ml-8 flex-shrink-0 w-full md:w-64 xl:w-96 md:static mt-16 hidden md:block" style="top:4rem;height:calc(100vh - 4rem)"><div class="sidebar border-gray-200 dark:border-gray-900 w-full p-4 pb-40 md:pb-16 h-full overflow-y-auto"><div class="mb-4 block md:hidden"><div class="nextra-search relative w-full md:w-64"><input type="search" class="appearance-none border rounded py-2 px-3 leading-tight focus:outline-none focus:ring w-full" placeholder="Search (&quot;/&quot; to focus)"/></div></div><div class="hidden md:block"><ul><li class=""><a href="/">Introduction</a></li></ul></div><div class="md:hidden"><ul><li class=""><a href="/">Introduction</a></li><li class="active mb-8"><button class="font-bold">User</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/user">User Documentation</a></li></ul></div></div></li><li class="active mb-8"><button class="font-bold">Developer</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/developer">Developer Documentation</a></li><li class=""><a href="/developer/getting-started">Getting Started</a></li><li class=""><a href="/developer/basics">Basics</a></li><li class=""><a href="/developer/working-directly-with-ens">Manual Contract API</a></li></ul></div></div></li><li class="active mb-8"><button class="font-bold">Technical</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/technical">Technical Documentation</a></li><li class=""><a href="/technical/about">About</a></li></ul></div></div></li><li class="active mb-8"><button class="font-bold">Governance</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/governance">Governance Documentation</a></li></ul></div></div></li><li class="active mb-8"><button class="font-bold">Raw</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/raw/SUMMARY">Summary</a></li><li class=""><a href="/raw/bug-bounty-program">Bug-Bounty-Program</a></li><li class="active mb-8"><button class="font-bold">Contract-API-Reference</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/raw/contract-api-reference/ENS-Contracts-Overview">Ens-Contracts-Overview</a></li><li class=""><a href="/raw/contract-api-reference/dns-registrar">DNS-Registrar</a></li><li class=""><a href="/raw/contract-api-reference/ens">Ens</a></li><li class="active mb-8"><button class="font-bold">Eth-Permanent-Registrar</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/raw/contract-api-reference/eth-permanent-registrar/README">Readme</a></li><li class=""><a href="/raw/contract-api-reference/eth-permanent-registrar/controller">Controller</a></li><li class=""><a href="/raw/contract-api-reference/eth-permanent-registrar/registrar">Registrar</a></li></ul></div></div></li><li class=""><a href="/raw/contract-api-reference/name-processing">Name-Processing</a></li><li class=""><a href="/raw/contract-api-reference/publicresolver">Publicresolver</a></li><li class=""><a href="/raw/contract-api-reference/reverseregistrar">Reverseregistrar</a></li><li class=""><a href="/raw/contract-api-reference/testregistrar">Testregistrar</a></li></ul></div></div></li><li class="active mb-8"><button class="font-bold">Contract-Developer-Guide</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/raw/contract-developer-guide/resolving-names-on-chain">Resolving-Names-On-Chain</a></li><li class=""><a href="/raw/contract-developer-guide/writing-a-registrar">Writing-A-Registrar</a></li><li class=""><a href="/raw/contract-developer-guide/writing-a-resolver">Writing-A-Resolver</a></li></ul></div></div></li><li class="active mb-8"><button class="font-bold">Dapp-Developer-Guide</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/raw/dapp-developer-guide/ens-as-nft">Ens-As-Nft</a></li><li class=""><a href="/raw/dapp-developer-guide/ens-l2-offchain">Ens-L2-Offchain</a></li><li class=""><a href="/raw/dapp-developer-guide/front-end-design-guidelines">Front-End-Design-Guidelines</a></li><li class=""><a href="/raw/dapp-developer-guide/managing-names">Managing-Names</a></li><li class=""><a href="/raw/dapp-developer-guide/registering-and-renewing-names">Registering-And-Renewing-Names</a></li><li class=""><a href="/raw/dapp-developer-guide/resolving-names">Resolving-Names</a></li></ul></div></div></li><li class=""><a href="/raw/deploying-ens-on-a-private-chain">Deploying-Ens-On-A-Private-Chain</a></li><li class=""><a href="/raw/dns-registrar-guide">DNS-Registrar-Guide</a></li><li class=""><a href="/raw/ens-deployments">Ens-Deployments</a></li><li class="active mb-8"><button class="font-bold">Ens-Improvement-Proposals</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/raw/ens-improvement-proposals/README">Readme</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-1-ens">Ensip-1-Ens</a></li><li class="active"><a href="/raw/ens-improvement-proposals/ensip-10-wildcard-resolution">Ensip-10-Wildcard-Resolution</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-11-evmchain-address-resolution">Ensip-11-Evmchain-Address-Resolution</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-12-avatar-text-records">Ensip-12-Avatar-Text-Records</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-2-initial-hash-registrar">Ensip-2-Initial-Hash-Registrar</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-3-reverse-resolution">Ensip-3-Reverse-Resolution</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-4-support-for-contract-abis">Ensip-4-Support-For-Contract-Abis</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-5-text-records">Ensip-5-Text-Records</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-6-dns-in-ens">Ensip-6-DNS-In-Ens</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-7-contenthash-field">Ensip-7-Contenthash-Field</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-8-interface-discovery">Ensip-8-Interface-Discovery</a></li><li class=""><a href="/raw/ens-improvement-proposals/ensip-9-multichain-address-resolution">Ensip-9-Multichain-Address-Resolution</a></li></ul></div></div></li><li class="active mb-8"><button class="font-bold">Ens-Migration-February-2020</button><div style="display:initial"><div class="flex border-l-2 ml-2 border-ensl-borderSecondary"><ul><li class=""><a href="/raw/ens-migration-february-2020/guide-for-dapp-developers">Guide-For-Dapp-Developers</a></li><li class=""><a href="/raw/ens-migration-february-2020/technical-description">Technical-Description</a></li></ul></div></div></li><li class=""><a href="/raw/frequently-asked-questions">Frequently-Asked-Questions</a></li><li class=""><a href="/raw/permanent-registrar-faq">Permanent-Registrar-Faq</a></li><li class=""><a href="/raw/terminology">Terminology</a></li></ul></div></div></li></ul></div></div></aside><article class="docs-container relative pt-16 pb-16 px-6 md:px-8 w-full max-w-full flex min-w-0"><main class="max-w-screen-md w-full mx-auto pt-4 z-10 min-w-0"><h1>ENSIP-10: Wildcard Resolution</h1>
<table><thead><tr><th><strong>Author</strong></th><th>Nick Johnson <!-- -->&lt;nick@ens.domains&gt;<!-- -->, 0age (@0age)</th></tr></thead><tbody><tr><td><strong>Status</strong></td><td>Draft</td></tr><tr><td><strong>Submitted</strong></td><td>2020-02-28</td></tr></tbody></table>
<h3>Abstract</h3>
<p>The Ethereum Name Service Specification (ENSIP-1) establishes a two-step name resolution process. First, an ENS client performs the namehash algorithm on the name to determine the associated &quot;node&quot;, and supplies that node to the ENS Registry contract to determine the resolver. Then, if a resolver has been set on the Registry, the client supplies that same node to the resolver contract, which will return the associated address or other record.</p>
<p>As currently specified, this process terminates if a resolver is not set on the ENS Registry for a given node. This ENSIP changes the name resolution process by adding an additional step if a resolver is not set for a domain. This step strips out the leftmost label from the name, derives the node of the new fragment, and supplies that node to the ENS Registry. If a resolver is located for that node, the client supplies the original, complete node to that resolver contract to derive the relevant records. This step is repeated until a node with a resolver is found.</p>
<p>Further, this specification defines a new way for resolvers to resolve names, using a unified <code>resolve()</code> method that permits more flexible handling of name resolution.</p>
<h3>Motivation</h3>
<p>Many applications such as wallet providers, exchanges, and dapps have expressed a desire to issue ENS names for their users via custom subdomains on a shared parent domain. However, the cost of doing so is currently prohibitive for large user bases, as a distinct record must be set on the ENS Registry for each subdomain.</p>
<p>Furthermore, users cannot immediately utilize these subdomains upon account creation, as the transaction to assign a resolver for the node of the subdomain must first be submitted and mined on-chain. This adds unnecessary friction when onboarding new users, who coincidentally would often benefit greatly from the usability improvements afforded by an ENS name.</p>
<p>Enabling wildcard support allows for the design of more advanced resolvers that deterministically generate addresses and other records for unassigned subdomains. The generated addresses could map to counterfactual contract deployment addresses (i.e. <code>CREATE2</code> addresses), to designated &quot;fallback&quot; addresses, or other schemes. Additionally, individual resolvers would still be assignable to any given subdomain, which would supersede the wildcard resolution using the parent resolver.</p>
<p>Another critical motivation with this standard is to enable wildcard resolution in a backwards-compatible fashion. It does not require modifying the current ENS Registry contract or any existing resolvers, and continues to support existing ENS records — legacy ENS clients would simply fail to resolve wildcard records.</p>
<h3>Specification</h3>
<p>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this document are to be interpreted as described in RFC 2119.</p>
<p>Let:</p>
<ul>
<li><code>namehash</code> be the algorithm defined in ENSIP-1.</li>
<li><code>dnsencode</code> be the process for encoding DNS names specified in section 3.1 of RFC1035, with the exception that there is no limit on the total length of the encoded name. The empty string is encoded identically to the name &#x27;.&#x27;, as a single 0-octet.</li>
<li><code>parent</code> be a function that removes the first label from a name (eg, <code>parent(&#x27;foo.eth&#x27;) = &#x27;eth&#x27;</code>). <code>parent(&#x27;tld&#x27;)</code> is defined as the empty string &#x27;&#x27;.</li>
<li><code>ens</code> is the ENS registry contract for the current network.</li>
</ul>
<p>ENSIP-10-compliant ENS resolvers MAY implement the following function interface:</p>
<pre><code class="language-javascript">interface ExtendedResolver {
    function resolve(bytes calldata name, bytes calldata data) external view returns(bytes);
}
</code></pre>
<p>If a resolver implements this function, it MUST return true when <code>supportsInterface()</code> is called on it with the interface&#x27;s ID, <code>0x9061b923</code>.</p>
<p>ENS clients will call <code>resolve</code> with the DNS-encoded name to resolve and the encoded calldata for a resolver function (as specified in ENSIP-1 and elsewhere); the function MUST either return valid return data for that function, or revert if it is not supported.</p>
<p>ENSIP-10-compliant ENS clients MUST perform the following procedure when determining the resolver for a given name:</p>
<ol>
<li>Set <code>currentname = name</code></li>
<li>Set <code>resolver = ens.resolver(namehash(currentname))</code></li>
<li>If <code>resolver</code> is not the zero address, halt and return <code>resolver</code>.</li>
<li>If <code>currentname</code> is the empty name (&#x27;&#x27; or &#x27;.&#x27;), halt and return null.</li>
<li>Otherwise, set <code>currentname = parent(currentname)</code> and go to 2.</li>
</ol>
<p>If the procedure above returns null, name resolution MUST terminate unsuccessfully. Otherwise, ENSIP-10-compliant ENS clients MUST perform the following procedure when resolving a record:</p>
<ol>
<li>Set <code>calldata</code> to the ABI-encoded call data for the resolution function required - for example, the ABI encoding of <code>addr(namehash(name))</code> when resolving the <code>addr</code> record.</li>
<li>Set <code>supportsENSIP10 = resolver.supportsInterface(&#x27;0x9061b923&#x27;)</code>.</li>
<li>If <code>supportsENSIP10</code> is true, set <code>result = resolver.resolve(dnsencode(name), calldata)</code></li>
<li>If <code>supportsENSIP10</code> is false and <code>name == currentname</code>, set <code>result</code> to the result of calling <code>resolver</code> with <code>calldata</code>.</li>
<li>If neither 3 nor 4 are true, terminate unsuccessfully.</li>
<li>Return <code>result</code> after decoding it using the return data ABI of the corresponding resolution function (eg, for <code>addr()</code>, ABI-decode the result of <code>resolver.resolve()</code> as an <code>address</code>).</li>
</ol>
<p>Note that in all cases the resolution function (<code>addr()</code> etc) and the <code>resolve</code> function are supplied the original <code>name</code>, <em>not</em> the <code>currentname</code> found in the first stage of resolution.</p>
<p>Also note that when wildcard resolution is in use (eg, <code>name != currentname</code>), clients MUST NOT call legacy methods such as <code>addr</code> to resolve the name. These methods may only be called on resolvers set on an exact match for <code>name</code>.</p>
<h4>Pseudocode</h4>
<pre><code class="language-javascript">function getResolver(name) {
    for(let currentname = name; currentname !== &#x27;&#x27;; currentname = parent(currentname)) {
        const node = namehash(currentname);
        const resolver = ens.resolver(node);
        if(resolver != &#x27;0x0000000000000000000000000000000000000000&#x27;) {
            return [resolver, currentname];
        }
    }
    return [null, &#x27;&#x27;];
}

function resolve(name, func, ...args) {
    const [resolver, resolverName] = getResolver(name);
    if(resolver === null) {
        return null;
    }
    const supportsENSIP10 = resolver.supportsInterface(&#x27;0x9061b923&#x27;);
    if(supportsENSIP10) {
        const calldata = resolver[func].encodeFunctionCall(namehash(name), ...args);
        const result = resolver.resolve(dnsencode(name), calldata);
        return resolver[func].decodeReturnData(result);
    } else if(name == resolverName) {
        return resolver[func](...args);
    } else {
        return null;
    }
}
</code></pre>
<h3>Rationale</h3>
<p>The proposed implementation supports wildcard resolution in a manner that minimizes the impact to existing systems. It also reuses existing algorithms and procedures to the greatest possible extent, thereby easing the burden placed on authors and maintainers of various ENS clients.</p>
<p>It also recognizes an existing consensus concerning the desirability of wildcard resolution for ENS, enabling more widespread adoption of the original specification by solving for a key scalability obstacle.</p>
<p>While introducing an optional <code>resolve</code> function for resolvers, taking the unhashed name and calldata for a resolution function increases implementation complexity, it provides a means for resolvers to obtain plaintext labels and act accordingly, which enables many wildcard-related use-cases that would otherwise not be possible - for example, a wildcard resolver could resolve <code>id.nifty.eth</code> to the owner of the NFT with id <code>id</code> in some collection. With only namehashes to work with, this is not possible.</p>
<p>The DNS wire format is used for encoding names as it permits quick and gas-efficient hashing of names, as well as other common operations such as fetching or removing individual labels; in contrast, dot-separated names require iterating over every character in the name to find the delimiter.</p>
<h3>Backwards Compatibility</h3>
<p>Existing ENS clients that are compliant with ENSIP-1 will fail to resolve wildcard records and refuse to interact with them, while those compliant with ENSIP-10 will continue to correctly resolve, or reject, existing ENS records. Resolvers wishing to implement the new <code>resolve</code> function for non-wildcard use-cases (eg, where the resolver is set directly on the name being resolved) should consider what to return to legacy clients that call the individual resolution functions for maximum compatibility.</p>
<p>Requiring clients to avoid calling existing resolution functions (eg, <code>addr</code> etc) on wildcard resolvers prevents inadvertant backwards compatiability issues with resolvers that answer queries for all names.</p>
<h3>Security Considerations</h3>
<p>While compliant ENS clients will continue to refuse to resolve records without a resolver, there is still the risk that an improperly-configured client will refer to an incorrect resolver, or will not reject interactions with the null address when a resolver cannot be located.</p>
<p>Additionally, resolvers supporting completely arbitrary wildcard subdomain resolution will increase the likelihood of funds being sent to unintended recipients as a result of typos. Applications that implement such resolvers should consider making additional name validation available to clients depending on the context, or implementing features that support recoverability of funds.</p>
<p>There is also the possibility that some applications might require that no resolver be set for certain subdomains. For this to be problematic, the parent domain would need to successfully resolve the given subdomain node — to the knowledge of the authors, no application currently supports this feature or expects that subdomains should not resolve to a record.</p>
<h3>Copyright</h3>
<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p><footer class="mt-24"><div class="flex flex-row items-center justify-between"><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center mr-2" title="Ensip-1-Ens" href="/raw/ens-improvement-proposals/ensip-1-ens"><svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 rotate-180 mr-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>Ensip-1-Ens</a></div><div><a class="text-lg font-medium p-4 -m-4 no-underline text-gray-600 hover:text-blue-600 flex items-center ml-2" title="Ensip-11-Evmchain-Address-Resolution" href="/raw/ens-improvement-proposals/ensip-11-evmchain-address-resolution">Ensip-11-Evmchain-Address-Resolution<svg height="24" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="transform inline flex-shrink-0 ml-1"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></a></div></div><hr/><div class="mt-24 flex justify-between flex-col-reverse md:flex-row items-center md:items-end"><span class="text-gray-600">GPLv3 <!-- -->2022<!-- --> © ENS Labs</span><div class="mt-6"></div><a class="text-sm" href="https://github.com/ensdomains/docs-v2/blob/main/pages/raw/ens-improvement-proposals/ensip-10-wildcard-resolution.mdx" target="_blank">Edit this page on GitHub</a></div></footer></main><div class="w-64 hidden 2xl:block text-sm pl-4"></div></article></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/raw/ens-improvement-proposals/ensip-10-wildcard-resolution","query":{},"buildId":"B5kUtG3bCvzqdzQAxH3Ck","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>