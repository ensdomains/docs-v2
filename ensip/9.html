<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>ENSIP-9: Multichain Address Resolution - ENS Documentation</title><meta name="description" content="Introduces new overloads for the `addr` field for ENS resolvers, which permit resolution of addresses for other blockchains via ENS (formerly EIP-2304)."/><meta name="next-head-count" content="4"/><script>
  let darkModeMediaQuery = window.matchMedia('(prefers-color-scheme: dark)')

  updateMode()
  darkModeMediaQuery.addEventListener('change', updateModeWithoutTransitions)
  window.addEventListener('storage', updateModeWithoutTransitions)

  function updateMode() {
    let isSystemDarkMode = darkModeMediaQuery.matches
    let isDarkMode = window.localStorage.isDarkMode === 'true' || (!('isDarkMode' in window.localStorage) && isSystemDarkMode)

    if (isDarkMode) {
      document.documentElement.classList.add('dark')
    } else {
      document.documentElement.classList.remove('dark')
    }

    if (isDarkMode === isSystemDarkMode) {
      delete window.localStorage.isDarkMode
    }
  }

  function disableTransitionsTemporarily() {
    document.documentElement.classList.add('[&_*]:!transition-none')
    window.setTimeout(() => {
      document.documentElement.classList.remove('[&_*]:!transition-none')
    }, 0)
  }

  function updateModeWithoutTransitions() {
    disableTransitionsTemporarily()
    updateMode()
  }
</script><meta name="theme-color" content="#5298FF"/><link rel="preload" href="/_next/static/css/eab700f167c00138.css" as="style"/><link rel="stylesheet" href="/_next/static/css/eab700f167c00138.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-cefddfb7403e4fd5.js" defer=""></script><script src="/_next/static/chunks/framework-15c4545a853bb4ff.js" defer=""></script><script src="/_next/static/chunks/main-a664b3180cf41d6f.js" defer=""></script><script src="/_next/static/chunks/pages/_app-04daf7c252d00221.js" defer=""></script><script src="/_next/static/chunks/pages/ensip/9-a339d12caa27d400.js" defer=""></script><script src="/_next/static/smYD7R2wqvL3lJkcO2OgY/_buildManifest.js" defer=""></script><script src="/_next/static/smYD7R2wqvL3lJkcO2OgY/_ssgManifest.js" defer=""></script></head><body class="bg-[#f7f7f7] antialiased dark:bg-zinc-900"><div id="__next"><div class="lg:ml-72 xl:ml-80"><header class="lheader fixed inset-0 top-14 left-0 z-40 contents w-72 overflow-y-auto border-r-0 border-zinc-900/10 px-6 pt-2 pb-8 dark:border-white/10 lg:block xl:w-80"><div class="fixed inset-x-0 top-0 z-50 flex h-14 items-center justify-start gap-6 px-4 transition sm:px-6 lg:z-30 lg:px-4 md:shadow-2xl backdrop-blur-sm dark:backdrop-blur left-0 bg-white/[var(--bg-opacity-light)] dark:bg-zinc-900/[var(--bg-opacity-dark)]" style="--bg-opacity-light:0.5;--bg-opacity-dark:0.2"><div class="absolute hidden md:flex top-full left-0 right-0 text-white px-4 bg-ens-500"><a class="font-bold py-1 px-3 text-xs hover:bg-white/10" href="/">Intro</a><a class="font-bold py-1 px-3 text-xs hover:bg-white/10" href="/web">dApp Developer</a><a class="font-bold py-1 px-3 text-xs hover:bg-white/10" href="/resolvers">Resolution</a><a class="font-bold py-1 px-3 text-xs hover:bg-white/10 bg-black/10" href="/standards">Records &amp; Standardization</a></div><div class="flex items-center gap-5 lg:hidden"><button type="button" class="flex h-6 w-6 items-center justify-center rounded-md transition hover:bg-zinc-900/5 dark:hover:bg-white/5" aria-label="Toggle navigation"><svg viewBox="0 0 10 9" fill="none" stroke-linecap="round" aria-hidden="true" class="w-4 stroke-zinc-900 dark:stroke-white"><path d="M.5 1h9M.5 8h9M.5 4.5h9"></path></svg></button><a aria-label="Home" href="/"><img alt="ENS Logo" src="/_next/static/media/logo.7b7e0018.svg" width="72" height="32" decoding="async" data-nimg="1" class="h-8" loading="lazy" style="color:transparent"/></a></div><div class="hidden lg:flex w-fit"><a aria-label="Home" href="/"><img alt="ENS Logo" src="/_next/static/media/mark.c13fa206.svg" width="32" height="32" decoding="async" data-nimg="1" class="h-8 ml-1 fill-ens-dao-400" loading="lazy" style="color:transparent"/></a></div><div class="absolute inset-x-0 top-full h-px transition bg-zinc-900/7.5 dark:bg-white/7.5"></div><div class="hidden lg:block lg:max-w-md lg:flex-auto"><button type="button" class="hidden h-8 w-full items-center gap-2 rounded-lg bg-white pl-2 pr-3 text-sm text-zinc-500 ring-1 ring-zinc-900/10 transition hover:ring-zinc-900/20 dark:bg-white/5 dark:text-zinc-400 dark:ring-inset dark:ring-white/10 dark:hover:ring-white/20 lg:flex focus:[&amp;:not(:focus-visible)]:outline-none"><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="h-5 w-5 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" d="M12.01 12a4.25 4.25 0 1 0-6.02-6 4.25 4.25 0 0 0 6.02 6Zm0 0 3.24 3.25"></path></svg>Find something...<kbd class="ml-auto text-2xs text-zinc-400 dark:text-zinc-500"><kbd class="font-sans"></kbd><kbd class="font-sans">K</kbd></kbd></button></div><div class="h-full w-auto grow"></div><div class="flex gap-4 items-center"><div class="hidden min-[786px]:flex gap-2"><a class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-lg py-1 px-3 bg-ens-400/10 text-ens-600 ring-1 ring-inset ring-ens-400/20 hover:bg-ens-400/10 hover:text-ens-300 hover:ring-ens-300 dark:bg-ens-400/10 dark:text-ens-400 dark:ring-1 dark:ring-inset dark:ring-ens-400/20 dark:hover:bg-ens-400/10 dark:hover:text-ens-300 dark:hover:ring-ens-300" target="_blank" href="https://app.ens.domains?ref=ens-docs-v2">App</a><a class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-lg py-1 px-3 bg-ens-400/10 text-ens-600 ring-1 ring-inset ring-ens-400/20 hover:bg-ens-400/10 hover:text-ens-300 hover:ring-ens-300 dark:bg-ens-400/10 dark:text-ens-400 dark:ring-1 dark:ring-inset dark:ring-ens-400/20 dark:hover:bg-ens-400/10 dark:hover:text-ens-300 dark:hover:ring-ens-300" href="/dao">DAO Docs</a></div><div class="hidden md:block md:h-5 md:w-px md:bg-zinc-900/10 md:dark:bg-white/15"></div><div class="flex gap-4"><div class="contents lg:hidden"><button type="button" class="flex h-6 w-6 items-center justify-center rounded-md transition hover:bg-zinc-900/5 dark:hover:bg-white/5 lg:hidden focus:[&amp;:not(:focus-visible)]:outline-none" aria-label="Find something..."><svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="h-5 w-5 stroke-zinc-900 dark:stroke-white"><path stroke-linecap="round" stroke-linejoin="round" d="M12.01 12a4.25 4.25 0 1 0-6.02-6 4.25 4.25 0 0 0 6.02 6Zm0 0 3.24 3.25"></path></svg></button></div><a target="_blank" href="https://github.com/ensdomains/docs-v2"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="opacity-90 hover:opacity-100" height="1.4rem" width="1.4rem" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div></div></div><nav class="hidden lg:mt-8 lg:block"><ul><li class="md:hidden"><a class="block py-1 text-sm text-zinc-600 transition hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="https://eips.ethereum.org/EIPS/eip-137">Whitepaper</a></li><li class="md:hidden"><a class="block py-1 text-sm text-zinc-600 transition hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/">Documentation</a></li><li class="md:hidden"><a class="block py-1 text-sm text-zinc-600 transition hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="https://support.ens.domains/?ref=docs">Support</a></li><li class="relative mt-6 md:mt-0"><h2 class="text-xs font-semibold text-zinc-900 dark:text-white"></h2><div class="relative mt-3 pl-2"><div class="absolute inset-y-0 left-2 w-px bg-zinc-900/10 dark:bg-white/5"></div><ul class="border-l border-transparent"><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/standards"><span class="truncate flex gap-1 items-center"><span>👋 Welcome</span></span></a></li></ul></div></li><li class="relative mt-6"><h2 class="text-xs font-semibold text-zinc-900 dark:text-white">💾 Records</h2><div class="relative mt-3 pl-2"><div class="absolute inset-y-0 left-2 w-px bg-zinc-900/10 dark:bg-white/5"></div><ul class="border-l border-transparent"><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/records/quickstart"><span class="truncate flex gap-1 items-center"><span>⚡ Quickstart</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/records"><span class="truncate flex gap-1 items-center"><span>💾 Record Types and Standards</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/records/modify"><span class="truncate flex gap-1 items-center"><span>✍️ Modifying Records</span></span></a></li></ul></div></li><li class="relative mt-6"><h2 class="text-xs font-semibold text-zinc-900 dark:text-white">📖 Improvement Proposals (ENSIPs)</h2><div class="relative mt-3 pl-2"><div class="absolute inset-x-0 top-0 bg-zinc-800/2.5 will-change-transform dark:bg-white/2.5" style="border-radius:8px;height:32px;top:288px;opacity:0"></div><div class="absolute inset-y-0 left-2 w-px bg-zinc-900/10 dark:bg-white/5"></div><div class="absolute left-2 h-6 w-px bg-ens-500" style="top:292px;opacity:1"></div><ul class="border-l border-transparent"><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip"><span class="truncate flex gap-1 items-center"><span>🧑‍🏫 Explained</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/1"><span class="truncate flex gap-1 items-center"><span>1 - ENS</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/2"><span class="truncate flex gap-1 items-center"><span>2 - Hash Registrar</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/3"><span class="truncate flex gap-1 items-center"><span>3 - Reverse Resolution</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/4"><span class="truncate flex gap-1 items-center"><span>4 - Contract ABIs</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/5"><span class="truncate flex gap-1 items-center"><span>5 - Text Records</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/6"><span class="truncate flex gap-1 items-center"><span>6 - DNS-in-ENS</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/7"><span class="truncate flex gap-1 items-center"><span>7 - Contenthash</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/8"><span class="truncate flex gap-1 items-center"><span>8 - Interface Discovery</span></span></a></li><li class="relative"><a aria-current="page" class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-900 dark:text-white" href="/ensip/9"><span class="truncate flex gap-1 items-center"><span>9 - Multichain Addresses</span></span></a><ul role="list" style="opacity:1"><li><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-7 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/9#motivation"><span class="truncate flex gap-1 items-center">Motivation</span></a></li><li><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-7 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/9#specification"><span class="truncate flex gap-1 items-center">Specification</span></a></li><li><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-7 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/9#backwards-compatibility"><span class="truncate flex gap-1 items-center">Backwards Compatibility</span></a></li><li><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-7 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/9#tests"><span class="truncate flex gap-1 items-center">Tests</span></a></li><li><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-7 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/9#copyright"><span class="truncate flex gap-1 items-center">Copyright</span></a></li></ul></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/10"><span class="truncate flex gap-1 items-center"><span>10 - Wildcard Resolution</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/11"><span class="truncate flex gap-1 items-center"><span>11 - EVM Compatible Chain Address</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/12"><span class="truncate flex gap-1 items-center"><span>12 - Avatar Text Records</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/13"><span class="truncate flex gap-1 items-center"><span>13 - SAFE Authentication</span></span></a></li><li class="relative"><a class="flex justify-between gap-2 py-1 pr-3 text-sm transition pl-4 text-zinc-600 hover:text-zinc-900 dark:text-zinc-400 dark:hover:text-white" href="/ensip/14"><span class="truncate flex gap-1 items-center"><span>14 - On-chain Source Parameter</span></span></a></li></ul></div></li><li class="sticky bottom-0 z-10 mt-6 min-[416px]:hidden"><a class="inline-flex gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-lg bg-zinc-900 py-1 px-3 text-white hover:bg-zinc-700 dark:bg-ens-500 dark:text-white dark:hover:bg-ens-400 w-full" href="/ensip/9#">Sign in</a></li></ul></nav></header><div class="relative px-4 pt-14 sm:px-6 lg:px-8"><main class="py-16"><article class="prose dark:prose-invert"><h1>ENSIP-9: Multichain Address Resolution</h1>
<table><thead><tr><th><strong>Author</strong></th><th>Nick Johnson &lt;<a href="mailto:nick@ens.domains">nick@ens.domains</a>&gt;</th></tr></thead><tbody><tr><td><strong>Status</strong></td><td>Final</td></tr><tr><td><strong>Submitted</strong></td><td>2019-09-09</td></tr></tbody></table>
<h2 id="motivation" class="scroll-mt-24"><a class="group text-inherit no-underline hover:text-inherit" href="/ensip/9#motivation">Motivation</a></h2>
<p>With the increasing uptake of ENS by multi-coin wallets, wallet authors have requested the ability to resolve addresses for non-Ethereum chains inside ENS. This specification standardises a way to enter and retrieve these addresses in a cross-client fashion.</p>
<h2 id="specification" class="scroll-mt-24"><a class="group text-inherit no-underline hover:text-inherit" href="/ensip/9#specification">Specification</a></h2>
<p>A new accessor function for resolvers is specified:</p>
<div class="not-prose my-6 overflow-hidden rounded-lg bg-[--var(--shiki-color-background)] shadow-sm dark:shadow-md ring-1 ring-black/10 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-black"><code class="language-solidity"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">addr</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">uint</span><span style="color: var(--shiki-color-text)"> coinType) </span><span style="color: var(--shiki-token-keyword)">external</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">view</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">returns</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">memory</span><span style="color: var(--shiki-color-text)">);</span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-ens-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>The EIP165 interface ID for this function is 0xf1cb7e06.</p>
<p>When called on a resolver, this function must return the cryptocurrency address for the specified namehash and coin type. A zero-length string must be returned if the specified coin ID does not exist on the specified node.</p>
<p><code>coinType</code> is the cryptocurrency coin type index from <a href="https://github.com/satoshilabs/slips/blob/master/slip-0044.md">SLIP44</a>.</p>
<p>The return value is the cryptocurrency address in its native binary format. Detailed descriptions of the binary encodings for several popular chains are provided in the Address Encoding section below.</p>
<p>A new event for resolvers is defined:</p>
<div class="not-prose my-6 overflow-hidden rounded-lg bg-[--var(--shiki-color-background)] shadow-sm dark:shadow-md ring-1 ring-black/10 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-black"><code class="language-solidity"><span style="color: var(--shiki-token-keyword)">event</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">AddressChanged</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">indexed</span><span style="color: var(--shiki-color-text)"> node, </span><span style="color: var(--shiki-token-constant)">uint</span><span style="color: var(--shiki-color-text)"> coinType, </span><span style="color: var(--shiki-token-constant)">bytes</span><span style="color: var(--shiki-color-text)"> newAddress);</span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-ens-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p>Resolvers MUST emit this event on each change to the address for a name and coin type.</p>
<h3>Recommended accessor functions</h3>
<p>The following function provides the recommended interface for changing the addresses stored for a node. Resolvers SHOULD implement this interface for setting addresses unless their needs dictate a different interface.</p>
<div class="not-prose my-6 overflow-hidden rounded-lg bg-[--var(--shiki-color-background)] shadow-sm dark:shadow-md ring-1 ring-black/10 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-black"><code class="language-solidity"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">setAddr</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">uint</span><span style="color: var(--shiki-color-text)"> coinType</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">bytes</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">calldata</span><span style="color: var(--shiki-color-text)"> addr);</span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-ens-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<p><code>setAddr</code> adds or replaces the address for the given node and coin type. The parameters for this function are as per those described in <code>addr()</code> above.</p>
<p>This function emits an <code>AddressChanged</code> event with the new address; see also the backwards compatibility section below for resolvers that also support <code>addr(bytes32)</code>.</p>
<h3>Address Encoding</h3>
<p>In general, the native binary representation of the address should be used, without any checksum commonly used in the text representation.</p>
<p>A table of encodings for common blockchains is provided, followed by a more detailed description of each format. In the table, &#x27;encodings&#x27; lists the address encodings supported by that chain, along with any relevant parameters. Details of those address encodings are described in the following sections.</p>
<table><thead><tr><th>Cryptocurrency</th><th>Coin Type</th><th>Encoding</th></tr></thead><tbody><tr><td>Bitcoin</td><td>0</td><td>P2PKH(0x00), P2SH(0x05), SegWit(&#x27;bc&#x27;)</td></tr><tr><td>Litecoin</td><td>2</td><td>P2PKH(0x30), P2SH(0x32), P2SH(0x05), SegWit(&#x27;ltc&#x27;)</td></tr><tr><td>Dogecoin</td><td>3</td><td>P2PKH(0x1e), P2SH(0x16)</td></tr><tr><td>Monacoin</td><td>22</td><td>P2PKH(0x32), P2SH(0x05)</td></tr><tr><td>Ethereum</td><td>60</td><td>ChecksummedHex</td></tr><tr><td>Ethereum Classic</td><td>61</td><td>ChecksummedHex</td></tr><tr><td>Rootstock</td><td>137</td><td>ChecksummedHex(30)</td></tr><tr><td>Ripple</td><td>144</td><td>Ripple</td></tr><tr><td>Bitcoin Cash</td><td>145</td><td>P2PKH(0x00), P2SH(0x05), CashAddr</td></tr><tr><td>Binance</td><td>714</td><td>Bech32(&#x27;bnb&#x27;)</td></tr></tbody></table>
<p><strong>P2PKH(version)</strong></p>
<p>Pay to Public Key Hash addresses are <a href="https://en.bitcoin.it/wiki/Base58Check_encoding">base58check</a> encoded. After decoding, the first byte is a version byte. For example, the Bitcoin address <code>1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa</code> base58check decodes to the 21 bytes <code>0062e907b15cbf27d5425399ebf6f0fb50ebb88f18</code>.</p>
<p>P2PKH addresses have a version byte, followed by a 20 byte pubkey hash. Their canonical encoding is their scriptPubkey encoding (specified <a href="https://en.bitcoin.it/wiki/Transaction#Types_of_Transaction">here</a>) is <code>OP_DUP OP_HASH160 &lt;pubKeyHash&gt; OP_EQUALVERIFY OP_CHECKSIG</code>.</p>
<p>The above example address is thus encoded as the 25 bytes <code>76a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1888ac</code>.</p>
<p><strong>P2SH(version)</strong></p>
<p>P2SH addresses are base58check encoded in the same manner as P2PKH addresses. P2SH addresses have a version, followed by a 20 byte script hash. Their scriptPubkey encoding (specified <a href="https://en.bitcoin.it/wiki/Transaction#Pay-to-Script-Hash">here</a>) is <code>OP_HASH160 &lt;scriptHash&gt; OP_EQUAL</code>. A Bitcoin address of <code>3Ai1JZ8pdJb2ksieUV8FsxSNVJCpoPi8W6</code> decodes to the 21 bytes <code>0562e907b15cbf27d5425399ebf6f0fb50ebb88f18</code> and is encoded as the 23 bytes <code>a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1887</code>.</p>
<p><strong>SegWit(hrp)</strong></p>
<p>SegWit addresses are encoded with <a href="https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki">bech32</a>. Bech32 addresses consist of a human-readable part - &#x27;bc&#x27; for Bitcoin mainnet - and a machine readable part. For SegWit addresses, this decodes to a &#x27;witness version&#x27;, between 0 and 15, and a &#x27;witness program&#x27;, as defined in <a href="https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki">BIP141</a>.</p>
<p>The scriptPubkey encoding for a bech32 address, as defined in BIP141, is <code>OP_n</code>, where <code>n</code> is the witness version, followed by a push of the witness program. Note this warning from BIP173:</p>
<blockquote>
<p>Implementations should take special care when converting the address to a scriptPubkey, where witness version n is stored as OP_n. OP_0 is encoded as 0x00, but OP_1 through OP_16 are encoded as 0x51 though 0x60 (81 to 96 in decimal). If a bech32 address is converted to an incorrect scriptPubKey the result will likely be either unspendable or insecure.</p>
</blockquote>
<p>For example, the Bitcoin SegWit address <code>BC1QW508D6QEJXTDG4Y5R3ZARVARY0C5XW7KV8F3T4</code> decodes to a version of <code>0</code> and a witness script of <code>751e76e8199196d454941c45d1b3a323f1433bd6</code>, and then encodes to a scriptPubkey of <code>0014751e76e8199196d454941c45d1b3a323f1433bd6</code>.</p>
<p><strong>ChecksummedHex(chainId?)</strong></p>
<p>To translate a text format checksummed hex address into binary format, simply remove the &#x27;0x&#x27; prefix and hex decode it. <code>0x314159265dD8dbb310642f98f50C066173C1259b</code> is hex-decoded and stored as the 20 bytes <code>314159265dd8dbb310642f98f50c066173c1259b</code>.</p>
<p>A checksum format is specified by EIP-55, and extended by <a href="https://github.com/rsksmart/RSKIPs/blob/master/IPs/RSKIP60.md">RSKIP60</a>, which specifies a means of including the chain ID in the checksum. The checksum on a text format address must be checked. Addresses with invalid checksums that are not all uppercase or all lowercase MUST be rejected with an error. Implementations may choose whether to accept non-checksummed addresses, but the authors recommend at least providing a warning to users in this situation.</p>
<p>When encoding an address from binary to text, an EIP55/RSKIP60 checksum MUST be used - so the correct encoding of the above address for Ethereum is <code>0x314159265dD8dbb310642f98f50C066173C1259b</code>.</p>
<p><strong>Ripple</strong></p>
<p>Ripple addresses are encoded using a version of base58check with an alternative alphabet, described <a href="https://xrpl.org/base58-encodings.html">here</a>. Two types of ripple addresses are supported, &#x27;r-addresses&#x27;, and &#x27;X-addresss&#x27;. r-addresses consist of a version byte followed by a 20 byte hash, while X-addresses consist of a version byte, a 20 byte hash, and a tag, specified <a href="https://github.com/xrp-community/standards-drafts/issues/6">here</a>.</p>
<p>Both address types should be stored in ENS by performing ripple&#x27;s version of base58check decoding and storing them directly (including version byte). For example, the ripple address <code>rf1BiGeXwwQoi8Z2ueFYTEXSwuJYfV2Jpn</code> decodes to and is stored as <code>004b4e9c06f24296074f7bc48f92a97916c6dc5ea9</code>, while the address <code>X7qvLs7gSnNoKvZzNWUT2e8st17QPY64PPe7zriLNuJszeg</code> decodes to and is stored as <code>05444b4e9c06f24296074f7bc48f92a97916c6dc5ea9000000000000000000</code>.</p>
<p><strong>CashAddr</strong></p>
<p>Bitcoin Cash defines a new address format called &#x27;CashAddr&#x27;, specified <a href="https://github.com/bitcoincashorg/bitcoincash.org/blob/master/spec/cashaddr.md">here</a>. This uses a variant of bech32 encoding to encode and decode (non-segwit) Bitcoin Cash addresses, using a prefix of &#x27;bitcoincash:&#x27;. A CashAddr should be decoded using this bech32 variant, then converted and stored based on its type (P2PKH or P2SH) as described in the relevant sections above.</p>
<p><strong>Bech32</strong></p>
<p><a href="https://github.com/bitcoin/bips/blob/master/bip-0173.mediawiki">Bech32</a> addresses consist of a human-readable part - for example, &#x27;bnb&#x27; for Binance - and a machine readable part. The encoded data is simply the address, which can be converted to binary and stored directly.</p>
<p>For example, the BNB address <code>bnb1grpf0955h0ykzq3ar5nmum7y6gdfl6lxfn46h2</code> decodes to the binary representation <code>40c2979694bbc961023d1d27be6fc4d21a9febe6</code>, which is stored directly in ENS.</p>
<h3>Example</h3>
<p>An example implementation of a resolver that supports this ENSIP is provided here:</p>
<div class="not-prose my-6 overflow-hidden rounded-lg bg-[--var(--shiki-color-background)] shadow-sm dark:shadow-md ring-1 ring-black/10 dark:ring-white/10"><div class="group dark:bg-white/2.5"><div class="relative"><pre class="overflow-x-auto p-4 text-xs text-black"><code class="language-solidity"><span style="color: var(--shiki-token-keyword)">pragma</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">solidity</span><span style="color: var(--shiki-color-text)"> ^0.5.8;</span>
<span style="color: var(--shiki-token-keyword)">contract</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">AddrResolver</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">is</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">ResolverBase</span><span style="color: var(--shiki-color-text)"> {</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">bytes4</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">constant</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">private</span><span style="color: var(--shiki-color-text)"> ADDR_INTERFACE_ID </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">0x3b3b57de</span><span style="color: var(--shiki-color-text)">;</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">bytes4</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">constant</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">private</span><span style="color: var(--shiki-color-text)"> ADDRESS_INTERFACE_ID </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">0xf1cb7e06</span><span style="color: var(--shiki-color-text)">;</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">uint</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">constant</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">private</span><span style="color: var(--shiki-color-text)"> COIN_TYPE_ETH </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">60</span><span style="color: var(--shiki-color-text)">;</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">event</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">AddrChanged</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">indexed</span><span style="color: var(--shiki-color-text)"> node, </span><span style="color: var(--shiki-token-constant)">address</span><span style="color: var(--shiki-color-text)"> a);</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">event</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">AddressChanged</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">indexed</span><span style="color: var(--shiki-color-text)"> node, </span><span style="color: var(--shiki-token-constant)">uint</span><span style="color: var(--shiki-color-text)"> coinType, </span><span style="color: var(--shiki-token-constant)">bytes</span><span style="color: var(--shiki-color-text)"> newAddress);</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">mapping</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-token-keyword)">=&gt;mapping</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">uint</span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-token-constant)">bytes</span><span style="color: var(--shiki-color-text)">)) _addresses;</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">/**</span>
<span style="color: var(--shiki-token-comment)">     * Sets the address associated with an ENS node.</span>
<span style="color: var(--shiki-token-comment)">     * May only be called by the owner of that node in the ENS registry.</span>
<span style="color: var(--shiki-token-comment)">     * </span><span style="color: var(--shiki-token-keyword)">@param</span><span style="color: var(--shiki-token-comment)"> node The node to update.</span>
<span style="color: var(--shiki-token-comment)">     * </span><span style="color: var(--shiki-token-keyword)">@param</span><span style="color: var(--shiki-token-comment)"> a The address to set.</span>
<span style="color: var(--shiki-token-comment)">     */</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">setAddr</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">address</span><span style="color: var(--shiki-color-text)"> a) </span><span style="color: var(--shiki-token-keyword)">external</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">authorised</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-function)">node</span><span style="color: var(--shiki-color-text)">) {</span>
<span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-function)">setAddr</span><span style="color: var(--shiki-color-text)">(node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> COIN_TYPE_ETH</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">addressToBytes</span><span style="color: var(--shiki-color-text)">(a));</span>
<span style="color: var(--shiki-color-text)">    }</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">/**</span>
<span style="color: var(--shiki-token-comment)">     * Returns the address associated with an ENS node.</span>
<span style="color: var(--shiki-token-comment)">     * </span><span style="color: var(--shiki-token-keyword)">@param</span><span style="color: var(--shiki-token-comment)"> node The ENS node to query.</span>
<span style="color: var(--shiki-token-comment)">     * </span><span style="color: var(--shiki-token-keyword)">@return</span><span style="color: var(--shiki-token-comment)"> The associated address.</span>
<span style="color: var(--shiki-token-comment)">     */</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">addr</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> node) </span><span style="color: var(--shiki-token-keyword)">public</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">view</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">returns</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">address</span><span style="color: var(--shiki-color-text)">) {</span>
<span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">bytes</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">memory</span><span style="color: var(--shiki-color-text)"> a </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">addr</span><span style="color: var(--shiki-color-text)">(node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> COIN_TYPE_ETH);</span>
<span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)">(a.length </span><span style="color: var(--shiki-token-keyword)">==</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">0</span><span style="color: var(--shiki-color-text)">) {</span>
<span style="color: var(--shiki-color-text)">            </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">address</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">0</span><span style="color: var(--shiki-color-text)">);</span>
<span style="color: var(--shiki-color-text)">        }</span>
<span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">bytesToAddress</span><span style="color: var(--shiki-color-text)">(a);</span>
<span style="color: var(--shiki-color-text)">    }</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">setAddr</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">uint</span><span style="color: var(--shiki-color-text)"> coinType</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">bytes</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">memory</span><span style="color: var(--shiki-color-text)"> a) </span><span style="color: var(--shiki-token-keyword)">public</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">authorised</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-function)">node</span><span style="color: var(--shiki-color-text)">) {</span>
<span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">emit</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">AddressChanged</span><span style="color: var(--shiki-color-text)">(node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> coinType</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> a);</span>
<span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)">(coinType </span><span style="color: var(--shiki-token-keyword)">==</span><span style="color: var(--shiki-color-text)"> COIN_TYPE_ETH) {</span>
<span style="color: var(--shiki-color-text)">            </span><span style="color: var(--shiki-token-keyword)">emit</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">AddrChanged</span><span style="color: var(--shiki-color-text)">(node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">bytesToAddress</span><span style="color: var(--shiki-color-text)">(a));</span>
<span style="color: var(--shiki-color-text)">        }</span>
<span style="color: var(--shiki-color-text)">        _addresses[node][coinType] </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> a;</span>
<span style="color: var(--shiki-color-text)">    }</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">addr</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes32</span><span style="color: var(--shiki-color-text)"> node</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">uint</span><span style="color: var(--shiki-color-text)"> coinType) </span><span style="color: var(--shiki-token-keyword)">public</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">view</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">returns</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">memory</span><span style="color: var(--shiki-color-text)">) {</span>
<span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> _addresses[node][coinType];</span>
<span style="color: var(--shiki-color-text)">    }</span>
<span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">supportsInterface</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bytes4</span><span style="color: var(--shiki-color-text)"> interfaceID) </span><span style="color: var(--shiki-token-keyword)">public</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">pure</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">returns</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">bool</span><span style="color: var(--shiki-color-text)">) {</span>
<span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> interfaceID </span><span style="color: var(--shiki-token-keyword)">==</span><span style="color: var(--shiki-color-text)"> ADDR_INTERFACE_ID </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> interfaceID </span><span style="color: var(--shiki-token-keyword)">==</span><span style="color: var(--shiki-color-text)"> ADDRESS_INTERFACE_ID </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> super.</span><span style="color: var(--shiki-token-function)">supportsInterface</span><span style="color: var(--shiki-color-text)">(interfaceID);</span>
<span style="color: var(--shiki-color-text)">    }</span>
<span style="color: var(--shiki-color-text)">}</span></code></pre><button type="button" class="group/button absolute top-3.5 right-4 overflow-hidden rounded-full py-1 pl-2 pr-3 text-2xs font-medium opacity-0 backdrop-blur transition focus:opacity-100 group-hover:opacity-100 bg-white/5 hover:bg-white/7.5 dark:bg-white/2.5 dark:hover:bg-white/5"><span aria-hidden="false" class="pointer-events-none flex items-center gap-0.5 text-zinc-400 transition duration-300"><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-500/20 stroke-zinc-500 transition-colors group-hover/button:stroke-zinc-400"><path stroke-width="0" d="M5.5 13.5v-5a2 2 0 0 1 2-2l.447-.894A2 2 0 0 1 9.737 4.5h.527a2 2 0 0 1 1.789 1.106l.447.894a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2Z"></path><path fill="none" stroke-linejoin="round" d="M12.5 6.5a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-5a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2m5 0-.447-.894a2 2 0 0 0-1.79-1.106h-.527a2 2 0 0 0-1.789 1.106L7.5 6.5m5 0-1 1h-3l-1-1"></path></svg>Copy</span><span aria-hidden="true" class="pointer-events-none absolute inset-0 flex items-center justify-center text-ens-400 transition duration-300 translate-y-1.5 opacity-0">Copied!</span></button></div></div></div>
<h3>Implementation</h3>
<p>An implementation of this interface is provided in the <a href="https://github.com/ensdomains/resolvers/">ensdomains/resolvers</a> repository.</p>
<h2 id="backwards-compatibility" class="scroll-mt-24"><a class="group text-inherit no-underline hover:text-inherit" href="/ensip/9#backwards-compatibility">Backwards Compatibility</a></h2>
<p>If the resolver supports the <code>addr(bytes32)</code> interface defined in ENSIP-1, the resolver MUST treat this as a special case of this new specification in the following ways:</p>
<ol>
<li>The value returned by <code>addr(node)</code> from ENSIP-1 should always match the value returned by <code>addr(node, 60)</code> (60 is the coin type ID for Ethereum).</li>
<li>Anything that causes the <code>AddrChanged</code> event from ENSIP-1 to be emitted must also emit an <code>AddressChanged</code> event from this ENSIP, with the <code>coinType</code> specified as 60, and vice-versa.</li>
</ol>
<h2 id="tests" class="scroll-mt-24"><a class="group text-inherit no-underline hover:text-inherit" href="/ensip/9#tests">Tests</a></h2>
<p>The table below specifies test vectors for valid address encodings for each cryptocurrency described above.</p>
<table><thead><tr><th>Cryptocurrency</th><th>Coin Type</th><th>Text</th><th>Onchain (hex)</th></tr></thead><tbody><tr><td>Bitcoin</td><td>0</td><td><code>1A1zP1eP5QGefi2DMPTfTL5SLmv7DivfNa</code></td><td><code>76a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1888ac</code></td></tr><tr><td></td><td></td><td><code>3Ai1JZ8pdJb2ksieUV8FsxSNVJCpoPi8W6</code></td><td><code>a91462e907b15cbf27d5425399ebf6f0fb50ebb88f1887</code></td></tr><tr><td></td><td></td><td><code>BC1QW508D6QEJXTDG4Y5R3ZARVARY0C5XW7KV8F3T4</code></td><td><code>0014751e76e8199196d454941c45d1b3a323f1433bd6</code></td></tr><tr><td>Litecoin</td><td>2</td><td><code>LaMT348PWRnrqeeWArpwQPbuanpXDZGEUz</code></td><td><code>76a914a5f4d12ce3685781b227c1f39548ddef429e978388ac</code></td></tr><tr><td></td><td></td><td><code>MQMcJhpWHYVeQArcZR3sBgyPZxxRtnH441</code></td><td><code>a914b48297bff5dadecc5f36145cec6a5f20d57c8f9b87</code></td></tr><tr><td></td><td></td><td><code>ltc1qdp7p2rpx4a2f80h7a4crvppczgg4egmv5c78w8</code></td><td><code>0014687c150c26af5493befeed7036043812115ca36c</code></td></tr><tr><td>Dogecoin</td><td>3</td><td><code>DBXu2kgc3xtvCUWFcxFE3r9hEYgmuaaCyD</code></td><td><code>76a9144620b70031f0e9437e374a2100934fba4911046088ac</code></td></tr><tr><td></td><td></td><td><code>AF8ekvSf6eiSBRspJjnfzK6d1EM6pnPq3G</code></td><td><code>a914f8f5d99a9fc21aa676e74d15e7b8134557615bda87</code></td></tr><tr><td>Monacoin</td><td>22</td><td><code>MHxgS2XMXjeJ4if2PRRbWYcdwZPWfdwaDT</code></td><td><code>76a9146e5bb7226a337fe8307b4192ae5c3fab9fa9edf588ac</code></td></tr><tr><td>Ethereum</td><td>60</td><td><code>0x314159265dD8dbb310642f98f50C066173C1259b</code></td><td><code>314159265dd8dbb310642f98f50c066173c1259b</code></td></tr><tr><td>Rootstock</td><td>137</td><td><code>0x5aaEB6053f3e94c9b9a09f33669435E7ef1bEAeD</code></td><td><code>5aaeb6053f3e94c9b9a09f33669435e7ef1beaed</code></td></tr><tr><td>Ripple</td><td>144</td><td><code>rf1BiGeXwwQoi8Z2ueFYTEXSwuJYfV2Jpn</code></td><td><code>004b4e9c06f24296074f7bc48f92a97916c6dc5ea9</code></td></tr><tr><td></td><td></td><td><code>X7qvLs7gSnNoKvZzNWUT2e8st17QPY64PPe7zriLNuJszeg</code></td><td><code>05444b4e9c06f24296074f7bc48f92a97916c6dc5ea9000000000000000000</code></td></tr><tr><td>Bitcoin Cash</td><td>145</td><td><code>1BpEi6DfDAUFd7GtittLSdBeYJvcoaVggu</code></td><td><code>76a91476a04053bda0a88bda5177b86a15c3b29f55987388ac</code></td></tr><tr><td></td><td></td><td><code>bitcoincash:qpm2qsznhks23z7629mms6s4cwef74vcwvy22gdx6a</code></td><td><code>76a91476a04053bda0a88bda5177b86a15c3b29f55987388ac</code></td></tr><tr><td></td><td></td><td><code>3CWFddi6m4ndiGyKqzYvsFYagqDLPVMTzC</code></td><td><code>a91476a04053bda0a88bda5177b86a15c3b29f55987387</code></td></tr><tr><td></td><td></td><td><code>bitcoincash:ppm2qsznhks23z7629mms6s4cwef74vcwvn0h829pq</code></td><td><code>a91476a04053bda0a88bda5177b86a15c3b29f55987387</code></td></tr><tr><td>Binance</td><td>714</td><td><code>bnb1grpf0955h0ykzq3ar5nmum7y6gdfl6lxfn46h2</code></td><td><code>40c2979694bbc961023d1d27be6fc4d21a9febe6</code></td></tr></tbody></table>
<h2 id="copyright" class="scroll-mt-24"><a class="group text-inherit no-underline hover:text-inherit" href="/ensip/9#copyright">Copyright</a></h2>
<p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p></article></main><footer class="mx-auto max-w-2xl space-y-10 pb-16 lg:max-w-5xl"><div class="relative h-8"><form class="absolute inset-0 flex items-center justify-center gap-6 md:justify-start"><p class="text-sm text-zinc-600 dark:text-zinc-400">Was this page helpful?</p><div class="group grid h-8 grid-cols-[1fr,1px,1fr] overflow-hidden rounded-full border border-zinc-900/10 dark:border-white/10"><button type="submit" class="px-3 text-sm font-medium text-zinc-600 transition hover:bg-zinc-900/2.5 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-white/5 dark:hover:text-white" data-response="yes">Yes</button><div class="bg-zinc-900/10 dark:bg-white/10"></div><button type="submit" class="px-3 text-sm font-medium text-zinc-600 transition hover:bg-zinc-900/2.5 hover:text-zinc-900 dark:text-zinc-400 dark:hover:bg-white/5 dark:hover:text-white" data-response="no">No</button></div></form></div><div class="flex flex-col items-center justify-between gap-5 border-t border-zinc-900/5 pt-8 dark:border-white/5 sm:flex-row"><p class="text-xs text-zinc-600 dark:text-zinc-400">© Copyright <!-- -->2023<!-- -->. All rights reserved.</p><div class="flex gap-4"><a class="group" href="/ensip/9#"><span class="sr-only">Follow us on Twitter</span><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-700 transition group-hover:fill-zinc-900 dark:group-hover:fill-zinc-500"><path d="M16.712 6.652c.01.146.01.29.01.436 0 4.449-3.267 9.579-9.242 9.579v-.003a8.963 8.963 0 0 1-4.98-1.509 6.379 6.379 0 0 0 4.807-1.396c-1.39-.027-2.608-.966-3.035-2.337.487.097.99.077 1.467-.059-1.514-.316-2.606-1.696-2.606-3.3v-.041c.45.26.956.404 1.475.42C3.18 7.454 2.74 5.486 3.602 3.947c1.65 2.104 4.083 3.382 6.695 3.517a3.446 3.446 0 0 1 .94-3.217 3.172 3.172 0 0 1 4.596.148 6.38 6.38 0 0 0 2.063-.817 3.357 3.357 0 0 1-1.428 1.861 6.283 6.283 0 0 0 1.865-.53 6.735 6.735 0 0 1-1.62 1.744Z"></path></svg></a><a class="group" href="/ensip/9#"><span class="sr-only">Follow us on GitHub</span><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-700 transition group-hover:fill-zinc-900 dark:group-hover:fill-zinc-500"><path fill-rule="evenodd" clip-rule="evenodd" d="M10 1.667c-4.605 0-8.334 3.823-8.334 8.544 0 3.78 2.385 6.974 5.698 8.106.417.075.573-.182.573-.406 0-.203-.011-.875-.011-1.592-2.093.397-2.635-.522-2.802-1.002-.094-.246-.5-1.005-.854-1.207-.291-.16-.708-.556-.01-.567.656-.01 1.124.62 1.281.876.75 1.292 1.948.93 2.427.705.073-.555.291-.93.531-1.143-1.854-.213-3.791-.95-3.791-4.218 0-.929.322-1.698.854-2.296-.083-.214-.375-1.09.083-2.265 0 0 .698-.224 2.292.876a7.576 7.576 0 0 1 2.083-.288c.709 0 1.417.096 2.084.288 1.593-1.11 2.291-.875 2.291-.875.459 1.174.167 2.05.084 2.263.53.599.854 1.357.854 2.297 0 3.278-1.948 4.005-3.802 4.219.302.266.563.78.563 1.58 0 1.143-.011 2.061-.011 2.35 0 .224.156.491.573.405a8.365 8.365 0 0 0 4.11-3.116 8.707 8.707 0 0 0 1.567-4.99c0-4.721-3.73-8.545-8.334-8.545Z"></path></svg></a><a class="group" href="/ensip/9#"><span class="sr-only">Join our Discord server</span><svg viewBox="0 0 20 20" aria-hidden="true" class="h-5 w-5 fill-zinc-700 transition group-hover:fill-zinc-900 dark:group-hover:fill-zinc-500"><path d="M16.238 4.515a14.842 14.842 0 0 0-3.664-1.136.055.055 0 0 0-.059.027 10.35 10.35 0 0 0-.456.938 13.702 13.702 0 0 0-4.115 0 9.479 9.479 0 0 0-.464-.938.058.058 0 0 0-.058-.027c-1.266.218-2.497.6-3.664 1.136a.052.052 0 0 0-.024.02C1.4 8.023.76 11.424 1.074 14.782a.062.062 0 0 0 .024.042 14.923 14.923 0 0 0 4.494 2.272.058.058 0 0 0 .064-.02c.346-.473.654-.972.92-1.496a.057.057 0 0 0-.032-.08 9.83 9.83 0 0 1-1.404-.669.058.058 0 0 1-.029-.046.058.058 0 0 1 .023-.05c.094-.07.189-.144.279-.218a.056.056 0 0 1 .058-.008c2.946 1.345 6.135 1.345 9.046 0a.056.056 0 0 1 .059.007c.09.074.184.149.28.22a.058.058 0 0 1 .023.049.059.059 0 0 1-.028.046 9.224 9.224 0 0 1-1.405.669.058.058 0 0 0-.033.033.056.056 0 0 0 .002.047c.27.523.58 1.022.92 1.495a.056.056 0 0 0 .062.021 14.878 14.878 0 0 0 4.502-2.272.055.055 0 0 0 .016-.018.056.056 0 0 0 .008-.023c.375-3.883-.63-7.256-2.662-10.246a.046.046 0 0 0-.023-.021Zm-9.223 8.221c-.887 0-1.618-.814-1.618-1.814s.717-1.814 1.618-1.814c.908 0 1.632.821 1.618 1.814 0 1-.717 1.814-1.618 1.814Zm5.981 0c-.887 0-1.618-.814-1.618-1.814s.717-1.814 1.618-1.814c.908 0 1.632.821 1.618 1.814 0 1-.71 1.814-1.618 1.814Z"></path></svg></a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"description":"Introduces new overloads for the `addr` field for ENS resolvers, which permit resolution of addresses for other blockchains via ENS (formerly EIP-2304).","sections":[{"title":"Motivation","id":"motivation"},{"title":"Specification","id":"specification"},{"title":"Backwards Compatibility","id":"backwards-compatibility"},{"title":"Tests","id":"tests"},{"title":"Copyright","id":"copyright"}],"title":"ENSIP-9: Multichain Address Resolution"},"__N_SSG":true},"page":"/ensip/9","query":{},"buildId":"smYD7R2wqvL3lJkcO2OgY","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>